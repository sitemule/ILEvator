CPD000D: Command QSYS/CRTRPGMOD not safe for a multithreaded job.
RNS9305: Module API placed in library ILEVATOR. 00 highest severity. Created on 29-11-23 at 13:55:10.
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page      1
  Command  . . . . . . . . . . . . :   CRTRPGMOD
    Issued by  . . . . . . . . . . :     NLI
  Module . . . . . . . . . . . . . :   API
    Library  . . . . . . . . . . . :     ILEVATOR
  Text 'description' . . . . . . . :   *SRCMBRTXT
  Source stream file   . . . . . . :   src/api.rpgmod
    CCSID  . . . . . . . . . . . . :     1252
  Target CCSID . . . . . . . . . . :   *JOB (277)
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   29-11-23  13:55:07
  Generation severity level  . . . :   10
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *SRCSTMT
                                       *DEBUGIO   *NOUNREF   *NOEVENTF
  Debugging views  . . . . . . . . :   *LIST
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *HEX
  Language identifier  . . . . . . :   *JOBRUN
  Replace module . . . . . . . . . :   *YES
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   *CURRENT
  Allow null values  . . . . . . . :   *NO
  Storage model . . .  . . . . . . :   *INHERIT
  Binding directory  . . . . . . . :   *NONE
  Define condition names . . . . . :   RPG_HAS_OVERLOAD
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :   headers
                                   :   ext/headers
  Preprocessor options . . . . . . :   *NONE
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page      2
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
                          S o u r c e   L i s t i n g
000001 **FREE                                                                                                               000001
000002                                                                                                                      000002
000003 ctl-opt nomain thread(*concurrent);                                                                                  000003
000004                                                                                                                      000004
000005 /include 'api.rpginc'                                                                                                000005
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  api.rpginc                                                   *                     1
        * External name  . . . . . . :  headers/api.rpginc                                           *                     1
        * Last change  . . . . . . . :  29-11-23  12:18:13                                           *                     1
        *--------------------------------------------------------------------------------------------*
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000001+**FREE                                                                                                              1000001
000002+                                                                                                                    1000002
000003+/if defined (ILEVATOR_API)                                                                                          1000003
            LINES EXCLUDED: 1
000005+/endif                                                                                                              1000005
000006+                                                                                                                    1000006
000007+/define ILEVATOR_API                                                                                                1000007
000008+                                                                                                                    1000008
000009+                                                                                                                    1000009
000010+dcl-ds ilevator_t qualified template align(*full);                                                                  1000010
000011+    sockets pointer;                                                                                                1000011
000012+    method pointer;                                                                                                 1000012
000013+    url pointer;                                                                                                    1000013
000014+    timeout packed(9:3);                                                                                            1000014
000015+    retries int(5);                                                                                                 1000015
000016+    useProxy ind ;                                                                                                  1000016
000017+    responseHeaderHasContentLength ind ;                                                                            1000017
000018+    responseIsChunked ind ;                                                                                         1000018
000019+    headerList pointer;                                                                                             1000019
000020+    requestHeaderList pointer;                                                                                      1000020
000021+                                                                                                                    1000021
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page      3
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000022+    requestDataBuffer likeds(anychar_t);                                                                            1000022
000023+    responseHeaderBuffer likeds(anychar_t);                                                                         1000023
000024+    responseDataBuffer likeds(anychar_t);                                                                           1000024
000025+    responseDataFile pointer;                                                                                       1000025
000026+    authProvider pointer;                                                                                           1000026
000027+    requestHandler pointer;                                                                                         1000027
000028+                                                                                                                    1000028
000029+    headerLen    int(10);                                                                                           1000029
000030+    contentData pointer;                                                                                            1000030
000031+    contentLength int(10);                                                                                          1000031
000032+    contentLengthCalculated int(10);                                                                                1000032
000033+                                                                                                                    1000033
000034+    rawResponse pointer;                                                                                            1000034
000035+    ccsid int(10);                                                                                                  1000035
000036+    status int(10);                                                                                                 1000036
000037+                                                                                                                    1000037
000038+    server    char(512);                                                                                            1000038
000039+    port      int(10);                                                                                              1000039
000040+    resource  char(32766);                                                                                          1000040
000041+    host      char(512);                                                                                            1000041
000042+    user      char(256);                                                                                            1000042
000043+    password  char(256);                                                                                            1000043
000044+    location  char(256);                                                                                            1000044
000045+    message   char(256);                                                                                            1000045
000046+                                                                                                                    1000046
000047+    buffer pointer;                                                                                                 1000047
000048+    bufferSize int(10);                                                                                             1000048
000049+    bufferTotalLength int(10);                                                                                      1000049
000050+    bufferEnd pointer;                                                                                              1000050
000051+    proxyTunnel pointer;                                                                                            1000051
000052+end-ds;                                                                                                             1000052
000053+                                                                                                                    1000053
000054+                                                                                                                    1000054
000055+///                                                                                                                 1000055
000056+// Template for UTF8 varchars. default to 2M                                                                        1000056
000057+///                                                                                                                 1000057
000058+dcl-s IV_LONGUTF8VARCHAR varchar(2097152:4) ccsid(*utf8) template;                                                  1000058
000059+                                                                                                                    1000059
000060+///                                                                                                                 1000060
000061+// Template for form data.                                                                                          1000061
000062+///                                                                                                                 1000062
000063+dcl-ds iv_lvarpuchar_t qualified template;                                                                          1000063
000064+    length uns(10);                                                                                                 1000064
000065+    string pointer;                                                                                                 1000065
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page      4
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000066+end-ds;                                                                                                             1000066
000067+                                                                                                                    1000067
000068+dcl-c IV_STATUS_OK 0;                                                                                               1000068
000069+dcl-c IV_STATUS_RETRY 1;                                                                                            1000069
000070+dcl-c IV_STATUS_ERROR 2;                                                                                            1000070
000071+                                                                                                                    1000071
000072+///                                                                                                                 1000072
000073+// Buffer type "Bytes"                                                                                              1000073
000074+///                                                                                                                 1000074
000075+dcl-c IV_BYTES 0;                                                                                                   1000075
000076+///                                                                                                                 1000076
000077+// Buffer type VARCHAR with a 2 byte size field                                                                     1000077
000078+///                                                                                                                 1000078
000079+dcl-c IV_VARCHAR2 1;                                                                                                1000079
000080+///                                                                                                                 1000080
000081+// Buffer type VARCHAR with a 4 byte size field                                                                     1000081
000082+///                                                                                                                 1000082
000083+dcl-c IV_VARCHAR4 2;                                                                                                1000083
000084+                                                                                                                    1000084
000085+///                                                                                                                 1000085
000086+// Maximum HTTP method size                                                                                         1000086
000087+///                                                                                                                 1000087
000088+dcl-c IV_METHOD_SIZE 10;                                                                                            1000088
000089+///                                                                                                                 1000089
000090+// Maximum URL size                                                                                                 1000090
000091+///                                                                                                                 1000091
000092+dcl-c IV_URL_SIZE 32766;                                                                                            1000092
000093+///                                                                                                                 1000093
000094+// Default buffer size for input and output                                                                         1000094
000095+///                                                                                                                 1000095
000096+dcl-c IV_BUFFER_SIZE 1048576;                                                                                       1000096
000097+///                                                                                                                 1000097
000098+// Maximum HTTP header name/key size                                                                                1000098
000099+///                                                                                                                 1000099
000100+dcl-c IV_HEADER_NAME_SIZE 1024;                                                                                     1000100
000101+///                                                                                                                 1000101
000102+// Maximum HTTP header value size                                                                                   1000102
000103+///                                                                                                                 1000103
000104+dcl-c IV_HEADER_VALUE_SIZE 16384;                                                                                   1000104
000105+                                                                                                                    1000105
000106+///                                                                                                                 1000106
000107+// Protocol plain HTTP                                                                                              1000107
000108+///                                                                                                                 1000108
000109+dcl-c IV_HTTP 0;                                                                                                    1000109
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page      5
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000110+                                                                                                                    1000110
000111+///                                                                                                                 1000111
000112+// Protocol HTTPS (Secure HTTP: Certificate and certificate password required)                                      1000112
000113+///                                                                                                                 1000113
000114+dcl-c IV_HTTPS 1;                                                                                                   1000114
000115+                                                                                                                    1000115
000116+                                                                                                                    1000116
000117+///                                                                                                                 1000117
000118+// The request has succeeded. The meaning of the success depends on the HTTP method:                                1000118
000119+// <ul>                                                                                                             1000119
000120+//   <li>GET: The resource has been fetched and is transmitted in the message body.</li>                            1000120
000121+//   <li>HEAD: The entity headers are in the message body.</li>                                                     1000121
000122+//   <li>PUT or POST: The resource describing the result of the action is transmitted in the message                1000122
 ...    body.</li>
000123+//   <li>TRACE: The message body contains the request message as received by the server.</li>                       1000123
000124+// </ul>                                                                                                            1000124
000125+///                                                                                                                 1000125
000126+dcl-c IV_HTTP_OK 200;                                                                                               1000126
000127+///                                                                                                                 1000127
000128+// The request has succeeded and a new resource has been created as a result.                                       1000128
000129+// This is typically the response sent after POST requests, or some PUT requests.                                   1000129
000130+///                                                                                                                 1000130
000131+dcl-c IV_HTTP_CREATED 201;                                                                                          1000131
000132+///                                                                                                                 1000132
000133+// The request has been received but not yet acted upon. It is noncommittal,                                        1000133
000134+// since there is no way in HTTP to later send an asynchronous response indicating                                  1000134
000135+// the outcome of the request. It is intended for cases where another process or                                    1000135
000136+// server handles the request, or for batch processing.                                                             1000136
000137+///                                                                                                                 1000137
000138+dcl-c IV_HTTP_ACCEPTED 202;                                                                                         1000138
000139+///                                                                                                                 1000139
000140+// This response code means the returned meta-information is not exactly the same                                   1000140
000141+// as is available from the origin server, but is collected from a local or a                                       1000141
000142+// third-party copy. This is mostly used for mirrors or backups of another resource.                                1000142
000143+// Except for that specific case, the "200 OK" response is preferred to this status.                                1000143
000144+///                                                                                                                 1000144
000145+dcl-c IV_HTTP_NON_AUTHORITIVE_INFO 203;                                                                             1000145
000146+///                                                                                                                 1000146
000147+// There is no content to send for this request, but the headers may be useful.                                     1000147
000148+// The user-agent may update its cached headers for this resource with the new ones.                                1000148
000149+///                                                                                                                 1000149
000150+dcl-c IV_HTTP_NO_CONTENT 204;                                                                                       1000150
000151+///                                                                                                                 1000151
000152+// Tells the user-agent to reset the document which sent this request.                                              1000152
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page      6
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000153+///                                                                                                                 1000153
000154+dcl-c IV_HTTP_RESET_CONTENT 205;                                                                                    1000154
000155+///                                                                                                                 1000155
000156+// This response code is used when the Range header is sent from the client to                                      1000156
000157+// request only part of a resource.                                                                                 1000157
000158+///                                                                                                                 1000158
000159+dcl-c IV_HTTP_PARTIAL_CONTENT 206;                                                                                  1000159
000160+///                                                                                                                 1000160
000161+// Conveys information about multiple resources, for situations where multiple                                      1000161
000162+// status codes might be appropriate.                                                                               1000162
000163+///                                                                                                                 1000163
000164+dcl-c IV_HTTP_MULTI_STATUS 207;                                                                                     1000164
000165+///                                                                                                                 1000165
000166+// Used inside a &lt;dav:propstat&gt; response element to avoid repeatedly enumerating                              1000166
000167+// the internal members of multiple bindings to the same collection.                                                1000167
000168+///                                                                                                                 1000168
000169+dcl-c IV_HTTP_ALREADY_REPORTED 208;                                                                                 1000169
000170+///                                                                                                                 1000170
000171+// The server has fulfilled a GET request for the resource, and the response is                                     1000171
000172+// a representation of the result of one or more instance-manipulations applied                                     1000172
000173+// to the current instance.                                                                                         1000173
000174+///                                                                                                                 1000174
000175+dcl-c IV_HTTP_IM_USED 226;                                                                                          1000175
000176+///                                                                                                                 1000176
000177+// The server could not understand the request due to invalid syntax.                                               1000177
000178+///                                                                                                                 1000178
000179+dcl-c IV_HTTP_BAD_REQUEST 400;                                                                                      1000179
000180+///                                                                                                                 1000180
000181+// Although the HTTP standard specifies "unauthorized", semantically this response                                  1000181
000182+// means "unauthenticated". That is, the client must authenticate itself to get                                     1000182
000183+// the requested response.                                                                                          1000183
000184+///                                                                                                                 1000184
000185+dcl-c IV_HTTP_UNAUTHORIZED 401;                                                                                     1000185
000186+///                                                                                                                 1000186
000187+// This response code is reserved for future use. The initial aim for creating                                      1000187
000188+// this code was using it for digital payment systems, however this status code                                     1000188
000189+// is used very rarely and no standard convention exists.                                                           1000189
000190+///                                                                                                                 1000190
000191+dcl-c IV_HTTP_PAYMENT_REQUIRED 402;                                                                                 1000191
000192+///                                                                                                                 1000192
000193+// The client does not have access rights to the content; that is, it is                                            1000193
000194+// unauthorized, so the server is refusing to give the requested resource.                                          1000194
000195+// Unlike 401, the client's identity is known to the server.                                                        1000195
000196+///                                                                                                                 1000196
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page      7
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000197+dcl-c IV_HTTP_FORBIDDEN 403;                                                                                        1000197
000198+///                                                                                                                 1000198
000199+// The server can not find the requested resource. In the browser, this means                                       1000199
000200+// the URL is not recognized. In an API, this can also mean that the endpoint is                                    1000200
000201+// valid but the resource itself does not exist. Servers may also send this                                         1000201
000202+// response instead of 403 to hide the existence of a resource from an                                              1000202
000203+// unauthorized client. This response code is probably the most famous one due                                      1000203
000204+// to its frequent occurrence on the web.                                                                           1000204
000205+///                                                                                                                 1000205
000206+dcl-c IV_HTTP_NOT_FOUND 404;                                                                                        1000206
000207+///                                                                                                                 1000207
000208+// The request method is known by the server but has been disabled and cannot be                                    1000208
000209+// used. For example, an API may forbid DELETE-ing a resource. The two mandatory                                    1000209
000210+// methods, GET and HEAD, must never be disabled and should not return this error                                   1000210
000211+// code.                                                                                                            1000211
000212+///                                                                                                                 1000212
000213+dcl-c IV_HTTP_METHOD_NOT_ALLOWED 405;                                                                               1000213
000214+///                                                                                                                 1000214
000215+// This response is sent when the web server, after performing server-driven                                        1000215
000216+// content negotiation, doesn't find any content that conforms to the criteria                                      1000216
000217+// given by the user agent.                                                                                         1000217
000218+///                                                                                                                 1000218
000219+dcl-c IV_HTTP_NOT_ACCEPTABLE 406;                                                                                   1000219
000220+///                                                                                                                 1000220
000221+// This is similar to 401 but authentication is needed to be done by a proxy.                                       1000221
000222+///                                                                                                                 1000222
000223+dcl-c IV_HTTP_PROXY_AUTH_REQUIRED 407;                                                                              1000223
000224+///                                                                                                                 1000224
000225+// This response is sent on an idle connection by some servers, even without any                                    1000225
000226+// previous request by the client. It means that the server would like to shut                                      1000226
000227+// down this unused connection. This response is used much more since some                                          1000227
000228+// browsers, like Chrome, Firefox 27+, or IE9, use HTTP pre-connection mechanisms                                   1000228
000229+// to speed up surfing. Also note that some servers merely shut down the                                            1000229
000230+// connection without sending this message.                                                                         1000230
000231+///                                                                                                                 1000231
000232+dcl-c IV_HTTP_REQUEST_TIMEOUT 408;                                                                                  1000232
000233+///                                                                                                                 1000233
000234+// This response is sent when a request conflicts with the current state of the server.                             1000234
000235+///                                                                                                                 1000235
000236+dcl-c IV_HTTP_CONFLICT 409;                                                                                         1000236
000237+///                                                                                                                 1000237
000238+// This response is sent when the requested content has been permanently deleted                                    1000238
000239+// from server, with no forwarding address. Clients are expected to remove their                                    1000239
000240+// caches and links to the resource. The HTTP specification intends this status                                     1000240
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page      8
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000241+// code to be used for "limited-time, promotional services". APIs should not feel                                   1000241
000242+// compelled to indicate resources that have been deleted with this status code.                                    1000242
000243+///                                                                                                                 1000243
000244+dcl-c IV_HTTP_GONE 410;                                                                                             1000244
000245+///                                                                                                                 1000245
000246+// Server rejected the request because the Content-Length header field is not                                       1000246
000247+// defined and the server requires it.                                                                              1000247
000248+///                                                                                                                 1000248
000249+dcl-c IV_HTTP_LENGTH_REQUIRED 411;                                                                                  1000249
000250+///                                                                                                                 1000250
000251+// The client has indicated preconditions in its headers which the server does not meet.                            1000251
000252+///                                                                                                                 1000252
000253+dcl-c IV_HTTP_PRECONDITION_FAILED 412;                                                                              1000253
000254+///                                                                                                                 1000254
000255+// Request entity is larger than limits defined by server; the server might                                         1000255
000256+// close the connection or return an Retry-After header field.                                                      1000256
000257+///                                                                                                                 1000257
000258+dcl-c IV_HTTP_PAYLOAD_TOO_LARGE 413;                                                                                1000258
000259+///                                                                                                                 1000259
000260+// The URI requested by the client is longer than the server is willing to interpret.                               1000260
000261+///                                                                                                                 1000261
000262+dcl-c IV_HTTP_REQUEST_URI_TOO_LONG 414;                                                                             1000262
000263+///                                                                                                                 1000263
000264+// The media format of the requested data is not supported by the server, so the                                    1000264
000265+// server is rejecting the request.                                                                                 1000265
000266+///                                                                                                                 1000266
000267+dcl-c IV_HTTP_UNSUPPORTED_MEDIA_TYPE 415;                                                                           1000267
000268+///                                                                                                                 1000268
000269+// The range specified by the Range header field in the request can't be                                            1000269
000270+// fulfilled; it's possible that the range is outside the size of the target                                        1000270
000271+// URI's data.                                                                                                      1000271
000272+///                                                                                                                 1000272
000273+dcl-c IV_HTTP_REQUESTED_RANGE_NOT_SATISFIABLE 416;                                                                  1000273
000274+///                                                                                                                 1000274
000275+// This response code means the expectation indicated by the Expect request                                         1000275
000276+// header field can't be met by the server.                                                                         1000276
000277+///                                                                                                                 1000277
000278+dcl-c IV_HTTP_EXPECTATION_FAILED 417;                                                                               1000278
000279+///                                                                                                                 1000279
000280+// The server refuses the attempt to brew coffee with a teapot.                                                     1000280
000281+///                                                                                                                 1000281
000282+dcl-c IV_HTTP_TEAPOT 418;                                                                                           1000282
000283+///                                                                                                                 1000283
000284+// The request was directed at a server that is not able to produce a response.                                     1000284
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page      9
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000285+// This can be sent by a server that is not configured to produce responses for                                     1000285
000286+// the combination of scheme and authority that are included in the request URI.                                    1000286
000287+///                                                                                                                 1000287
000288+dcl-c IV_HTTP_MISDIRECTED_REQUEST 421;                                                                              1000288
000289+///                                                                                                                 1000289
000290+// The request was well-formed but was unable to be followed due to semantic errors.                                1000290
000291+///                                                                                                                 1000291
000292+dcl-c IV_HTTP_UNPROCESSABLE_ENTITY 422;                                                                             1000292
000293+///                                                                                                                 1000293
000294+// The resource that is being accessed is locked.                                                                   1000294
000295+///                                                                                                                 1000295
000296+dcl-c IV_HTTP_LOCKED 423;                                                                                           1000296
000297+///                                                                                                                 1000297
000298+// The request failed due to failure of a previous request.                                                         1000298
000299+///                                                                                                                 1000299
000300+dcl-c IV_HTTP_FAILED_DEPENDENCY 424;                                                                                1000300
000301+///                                                                                                                 1000301
000302+// Indicates that the server is unwilling to risk processing a request that                                         1000302
000303+// might be replayed.                                                                                               1000303
000304+///                                                                                                                 1000304
000305+dcl-c IV_HTTP_TOO_EARLY 425;                                                                                        1000305
000306+///                                                                                                                 1000306
000307+// The server refuses to perform the request using the current protocol but                                         1000307
000308+// might be willing to do so after the client upgrades to a different protocol.                                     1000308
000309+// The server sends an Upgrade header in a 426 response to indicate the required                                    1000309
000310+// protocol(s).                                                                                                     1000310
000311+///                                                                                                                 1000311
000312+dcl-c IV_HTTP_UPGRADE_REQUIRED 426;                                                                                 1000312
000313+///                                                                                                                 1000313
000314+// The origin server requires the request to be conditional. This response is                                       1000314
000315+// intended to prevent the 'lost update' problem, where a client GETs a                                             1000315
000316+// resource's state, modifies it, and PUTs it back to the server, when meanwhile                                    1000316
000317+// a third party has modified the state on the server, leading to a conflict.                                       1000317
000318+///                                                                                                                 1000318
000319+dcl-c IV_HTTP_PRECONDITION_REQUIRED 428;                                                                            1000319
000320+///                                                                                                                 1000320
000321+// The user has sent too many requests in a given amount of time ("rate limiting").                                 1000321
000322+///                                                                                                                 1000322
000323+dcl-c IV_HTTP_TOO_MANY_REQUESTS 429;                                                                                1000323
000324+///                                                                                                                 1000324
000325+// The server is unwilling to process the request because its header fields are                                     1000325
000326+// too large. The request may be resubmitted after reducing the size of the                                         1000326
000327+// request header fields.                                                                                           1000327
000328+///                                                                                                                 1000328
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     10
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000329+dcl-c IV_HTTP_REQUEST_HEADER_FIELDS_TOO_LARGE 431;                                                                  1000329
000330+///                                                                                                                 1000330
000331+// The user-agent requested a resource that cannot legally be provided, such as                                     1000331
000332+// a web page censored by a government.                                                                             1000332
000333+///                                                                                                                 1000333
000334+dcl-c IV_HTTP_UNAVAILABLE_FOR_LEGAL_REASONS 451;                                                                    1000334
000335+///                                                                                                                 1000335
000336+// The server has encountered a situation it doesn't know how to handle.                                            1000336
000337+///                                                                                                                 1000337
000338+dcl-c IV_HTTP_INTERNAL_SERVER_ERROR 500;                                                                            1000338
000339+///                                                                                                                 1000339
000340+// The request method is not supported by the server and cannot be handled.                                         1000340
000341+// The only methods that servers are required to support (and therefore that                                        1000341
000342+// must not return this code) are GET and HEAD.                                                                     1000342
000343+///                                                                                                                 1000343
000344+dcl-c IV_HTTP_NOT_IMPLEMENTED 501;                                                                                  1000344
000345+///                                                                                                                 1000345
000346+// This error response means that the server, while working as a gateway to get                                     1000346
000347+// a response needed to handle the request, got an invalid response.                                                1000347
000348+///                                                                                                                 1000348
000349+dcl-c IV_HTTP_BAD_GATEWAY 502;                                                                                      1000349
000350+///                                                                                                                 1000350
000351+// The server is not ready to handle the request. Common causes are a server                                        1000351
000352+// that is down for maintenance or that is overloaded. Note that together with                                      1000352
000353+// this response, a user-friendly page explaining the problem should be sent.                                       1000353
000354+// This responses should be used for temporary conditions and the Retry-After:                                      1000354
000355+// HTTP header should, if possible, contain the estimated time before the                                           1000355
000356+// recovery of the service. The webmaster must also take care about the                                             1000356
000357+// caching-related headers that are sent along with this response, as these                                         1000357
000358+// temporary condition responses should usually not be cached.                                                      1000358
000359+///                                                                                                                 1000359
000360+dcl-c IV_HTTP_SERVICE_UNAVAILABLE 503;                                                                              1000360
000361+///                                                                                                                 1000361
000362+// This error response is given when the server is acting as a gateway and                                          1000362
000363+// cannot get a response in time.                                                                                   1000363
000364+///                                                                                                                 1000364
000365+dcl-c IV_HTTP_GATEWAY_TIMEOUT 504;                                                                                  1000365
000366+///                                                                                                                 1000366
000367+// The HTTP version used in the request is not supported by the server.                                             1000367
000368+///                                                                                                                 1000368
000369+dcl-c IV_HTTP_VERSION_NOT_SUPPORTED 505;                                                                            1000369
000370+///                                                                                                                 1000370
000371+// The server has an internal configuration error: the chosen variant resource                                      1000371
000372+// is configured to engage in transparent content negotiation itself, and is                                        1000372
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     11
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000373+// therefore not a proper end point in the negotiation process.                                                     1000373
000374+///                                                                                                                 1000374
000375+dcl-c IV_HTTP_VARIANT_ALSO_NEGOTIATES 506;                                                                          1000375
000376+///                                                                                                                 1000376
000377+// The method could not be performed on the resource because the server is                                          1000377
000378+// unable to store the representation needed to successfully complete the request.                                  1000378
000379+///                                                                                                                 1000379
000380+dcl-c IV_HTTP_INSUFFICIENT_STORAGE 507;                                                                             1000380
000381+///                                                                                                                 1000381
000382+// The server detected an infinite loop while processing the request.                                               1000382
000383+///                                                                                                                 1000383
000384+dcl-c IV_HTTP_LOOP_DETECTED 508;                                                                                    1000384
000385+///                                                                                                                 1000385
000386+// Further extensions to the request are required for the server to fulfil it.                                      1000386
000387+///                                                                                                                 1000387
000388+dcl-c IV_HTTP_NOT_EXTENDED 510;                                                                                     1000388
000389+///                                                                                                                 1000389
000390+// The 511 status code indicates that the client needs to authenticate to gain                                      1000390
000391+// network access.                                                                                                  1000391
000392+///                                                                                                                 1000392
000393+dcl-c IV_HTTP_NETWORK_AUTH_REQUIRED 511;                                                                            1000393
000394+                                                                                                                    1000394
000395+                                                                                                                    1000395
000396+///                                                                                                                 1000396
000397+// Any media type.                                                                                                  1000397
000398+///                                                                                                                 1000398
000399+dcl-c IV_MEDIA_TYPE_ALL '*/*';                                                                                      1000399
000400+///                                                                                                                 1000400
000401+// Default format for JSON data.                                                                                    1000401
000402+///                                                                                                                 1000402
000403+dcl-c IV_MEDIA_TYPE_JSON 'application/json';                                                                        1000403
000404+///                                                                                                                 1000404
000405+// Default format for XML data.                                                                                     1000405
000406+///                                                                                                                 1000406
000407+dcl-c IV_MEDIA_TYPE_XML 'application/xml';                                                                          1000407
000408+                                                                                                                    1000408
000409+                                                                                                                    1000409
000410+///                                                                                                                 1000410
000411+// Create a new HTTP client                                                                                         1000411
000412+//                                                                                                                  1000412
000413+// Returns a pointer to the new HTTP client instance.                                                               1000413
000414+//                                                                                                                  1000414
000415+// @return Pointer to the HTTP client                                                                               1000415
000416+//                                                                                                                  1000416
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     12
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000417+// @info The memory allocated by this client instance must be freed by                                              1000417
000418+//       calling the procedure <code>iv_free</code>.                                                                1000418
000419+//                                                                                                                  1000419
000420+///                                                                                                                 1000420
000421+dcl-pr iv_newHttpClient pointer extproc(*dclcase) end-pr;                                                           1000421
000422+                                                                                                                    1000422
000423+///                                                                                                                 1000423
000424+// Free client memory                                                                                               1000424
000425+//                                                                                                                  1000425
000426+// Disconnect and cleanup memory of the passed client instance.                                                     1000426
000427+//                                                                                                                  1000427
000428+// @param Pointer to the HTTP client                                                                                1000428
000429+//                                                                                                                  1000429
000430+///                                                                                                                 1000430
000431+dcl-pr iv_free extproc(*dclcase);                                                                                   1000431
000432+    client pointer value;                                                                                           1000432
000433+end-pr;                                                                                                             1000433
000434+                                                                                                                    1000434
000435+///                                                                                                                 1000435
000436+// CCSID of the current job                                                                                         1000436
000437+///                                                                                                                 1000437
000438+dcl-c IV_CCSID_JOB 0;                                                                                               1000438
000439+///                                                                                                                 1000439
000440+// CCSID UTF-8                                                                                                      1000440
000441+///                                                                                                                 1000441
000442+dcl-c IV_CCSID_UTF8 1208;                                                                                           1000442
000443+///                                                                                                                 1000443
000444+// CCSID Windows-1252 (Latin 1)                                                                                     1000444
000445+///                                                                                                                 1000445
000446+dcl-c IV_CCSID_WIN1252 1252;                                                                                        1000446
000447+///                                                                                                                 1000447
000448+// CCSID special value indicating hex data and it will not be converted.                                            1000448
000449+///                                                                                                                 1000449
000450+dcl-c IV_CCSID_BINARY 65535;                                                                                        1000450
000451+                                                                                                                    1000451
000452+                                                                                                                    1000452
000453+///                                                                                                                 1000453
000454+// Set request buffer                                                                                               1000454
000455+//                                                                                                                  1000455
000456+// Sets the buffer of the data which will be sent as the message body of the                                        1000456
000457+// HTTP request.                                                                                                    1000457
000458+//                                                                                                                  1000458
000459+// @param Pointer to the HTTP client                                                                                1000459
000460+// @param Pointer to buffer                                                                                         1000460
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     13
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000461+// @param Size of buffer (bytes in total)                                                                           1000461
000462+// @param Buffer type (0=Byte buffer, 1=varchar2, 2=varchar4)                                                       1000462
000463+// @param CCSID (0=Current job, 65535=no xlate, 1208=UTF-8)                                                         1000463
000464+///                                                                                                                 1000464
000465+dcl-pr iv_setRequestDataBuffer extproc(*dclcase);                                                                   1000465
000466+    client        pointer value;                                                                                    1000466
000467+    buffer        pointer value;                                                                                    1000467
000468+    bufferSize    int(10) value;                                                                                    1000468
000469+    bufferType    int(5) value;                                                                                     1000469
000470+    bufferCcsid   int(10) value;                                                                                    1000470
000471+end-pr;                                                                                                             1000471
000472+                                                                                                                    1000472
000473+///                                                                                                                 1000473
000474+// Set response header buffer                                                                                       1000474
000475+//                                                                                                                  1000475
000476+// Sets the buffer where the response header is received.                                                           1000476
000477+//                                                                                                                  1000477
000478+// @param Pointer to the HTTP client                                                                                1000478
000479+// @param Pointer to buffer                                                                                         1000479
000480+// @param Size of buffer ( bytes in total)                                                                          1000480
000481+// @param Buffer type (0=Byte buffer, 1=varchar2, 2=varchar4)                                                       1000481
000482+// @param CCSID (0=Current job, 65535=no xlate, 1208=UTF-8)                                                         1000482
000483+///                                                                                                                 1000483
000484+dcl-pr iv_setResponseHeaderBuffer extproc(*dclcase);                                                                1000484
000485+    client        pointer value;                                                                                    1000485
000486+    buffer        pointer value;                                                                                    1000486
000487+    bufferSize    int(10) value;                                                                                    1000487
000488+    bufferType    int(5) value;                                                                                     1000488
000489+    bufferCcsid   int(10) value;                                                                                    1000489
000490+end-pr;                                                                                                             1000490
000491+                                                                                                                    1000491
000492+///                                                                                                                 1000492
000493+// Set response data buffer                                                                                         1000493
000494+//                                                                                                                  1000494
000495+// Sets the buffer where the response data (message body) is received.                                              1000495
000496+//                                                                                                                  1000496
000497+// @param Pointer to the HTTP client                                                                                1000497
000498+// @param Pointer to buffer                                                                                         1000498
000499+// @param Size of buffer ( bytes in total)                                                                          1000499
000500+// @param Buffer type (0=Byte buffer, 1=varchar2, 2=varchar4)                                                       1000500
000501+// @param CCSID (0=Current job, 65535=no xlate, 1208=UTF-8)                                                         1000501
000502+///                                                                                                                 1000502
000503+dcl-pr iv_setResponseDataBuffer extproc(*dclcase);                                                                  1000503
000504+    pClient       pointer value;                                                                                    1000504
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     14
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000505+    pBuffer       pointer value;                                                                                    1000505
000506+    bufferSize    int(10) value;                                                                                    1000506
000507+    bufferType    int(5) value;                                                                                     1000507
000508+    bufferCcsid   int(10) value;                                                                                    1000508
000509+end-pr;                                                                                                             1000509
000510+                                                                                                                    1000510
000511+///                                                                                                                 1000511
000512+// Set response output file                                                                                         1000512
000513+//                                                                                                                  1000513
000514+// Sets the output file for the response.                                                                           1000514
000515+//                                                                                                                  1000515
000516+// @param Pointer to the HTTP client                                                                                1000516
000517+// @param IFS file name                                                                                             1000517
000518+// @param CCSID of the file (default: 1252)                                                                         1000518
000519+///                                                                                                                 1000519
000520+dcl-pr iv_setResponseFile extproc(*dclcase);                                                                        1000520
000521+    client        pointer value;                                                                                    1000521
000522+    fileName      pointer options(*string) value;                                                                   1000522
000523+    fileCcsid     int(10)  options(*nopass) value;                                                                  1000523
000524+end-pr;                                                                                                             1000524
000525+                                                                                                                    1000525
000526+///                                                                                                                 1000526
000527+// Set the URL for a CONNECT tunnel proxy                                                                           1000527
000528+//                                                                                                                  1000528
000529+// @param Pointer to the HTTP client                                                                                1000529
000530+// @param URL of the CONNECT proxy                                                                                  1000530
000531+///                                                                                                                 1000531
000532+dcl-pr iv_setProxyTunnel extproc(*dclcase);                                                                         1000532
000533+    client        pointer value;                                                                                    1000533
000534+    url           pointer options(*string) value;                                                                   1000534
000535+end-pr;                                                                                                             1000535
000536+                                                                                                                    1000536
000537+///                                                                                                                 1000537
000538+// Execute HTTP request                                                                                             1000538
000539+//                                                                                                                  1000539
000540+// Executes the HTTP request with the passed client.                                                                1000540
000541+//                                                                                                                  1000541
000542+// @param Pointer to the HTTP client                                                                                1000542
000543+// @param HTTP method                                                                                               1000543
000544+// @param URL                                                                                                       1000544
000545+// @param Pointer to a simple list with additional HTTP headers                                                     1000545
000546+// @return <code>*ON</code> if ok                                                                                   1000546
000547+///                                                                                                                 1000547
000548+dcl-pr iv_execute ind extproc(*dclcase);                                                                            1000548
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     15
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000549+    client  pointer value;                                                                                          1000549
000550+    method  pointer options(*string) value;                                                                         1000550
000551+    url     pointer options(*string) value;                                                                         1000551
000552+    headers pointer options(*nopass) value;                                                                         1000552
000553+end-pr;                                                                                                             1000553
000554+                                                                                                                    1000554
000555+///                                                                                                                 1000555
000556+// Set SSL keystore                                                                                                 1000556
000557+//                                                                                                                  1000557
000558+// Sets the SSL keystore used when making HTTPS requests.                                                           1000558
000559+//                                                                                                                  1000559
000560+// @param Pointer to the HTTP client                                                                                1000560
000561+// @param IFS path to the keystore file                                                                             1000561
000562+// @param Keystore password (default: empty password)                                                               1000562
000563+// @return <code>*ON</code> if ok                                                                                   1000563
000564+///                                                                                                                 1000564
000565+dcl-pr iv_setCertificate ind extproc(*dclcase);                                                                     1000565
000566+    client              pointer value;                                                                              1000566
000567+    certificateFile     pointer options(*string) value;                                                             1000567
000568+    certificatePassword pointer options(*string:*nopass) value;                                                     1000568
000569+end-pr;                                                                                                             1000569
000570+                                                                                                                    1000570
000571+///                                                                                                                 1000571
000572+// Get HTTP status                                                                                                  1000572
000573+//                                                                                                                  1000573
000574+// Returns the HTTP status code of the last request done with this HTTP client                                      1000574
000575+// instance.                                                                                                        1000575
000576+//                                                                                                                  1000576
000577+// @param Pointer to the HTTP client                                                                                1000577
000578+// @return HTTP status code                                                                                         1000578
000579+///                                                                                                                 1000579
000580+dcl-pr iv_getStatus int(5) extproc(*dclcase);                                                                       1000580
000581+    client pointer value;                                                                                           1000581
000582+end-pr;                                                                                                             1000582
000583+                                                                                                                    1000583
000584+///                                                                                                                 1000584
000585+// Get error message                                                                                                1000585
000586+//                                                                                                                  1000586
000587+// Returns the error message from the last HTTP request.                                                            1000587
000588+//                                                                                                                  1000588
000589+// @param  Pointer to the HTTP client                                                                               1000589
000590+// @return Error message from the HTTP request                                                                      1000590
000591+///                                                                                                                 1000591
000592+dcl-pr iv_getErrorMessage varchar(256) extproc(*dclcase);                                                           1000592
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     16
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000593+    client pointer value;                                                                                           1000593
000594+end-pr;                                                                                                             1000594
000595+                                                                                                                    1000595
000596+///                                                                                                                 1000596
000597+// Set authentication provider                                                                                      1000597
000598+//                                                                                                                  1000598
000599+// Sets the passed authentication provider on the HTTP client.                                                      1000599
000600+//                                                                                                                  1000600
000601+// @param Pointer to the HTTP Client                                                                                1000601
000602+// @param Authentication provider                                                                                   1000602
000603+///                                                                                                                 1000603
000604+dcl-pr iv_setAuthProvider extproc(*dclcase);                                                                        1000604
000605+  client pointer value;                                                                                             1000605
000606+  authProvider pointer value;                                                                                       1000606
000607+end-pr;                                                                                                             1000607
000608+                                                                                                                    1000608
000609+///                                                                                                                 1000609
000610+// Base64 decode value                                                                                              1000610
000611+//                                                                                                                  1000611
000612+// Decodes a base64 encoded string.                                                                                 1000612
000613+//                                                                                                                  1000613
000614+// @param Encoded string                                                                                            1000614
000615+// @return Decoded string                                                                                           1000615
000616+//                                                                                                                  1000616
000617+// @info The character encoding for the original value is expected to be UTF-8.                                     1000617
000618+///                                                                                                                 1000618
000619+dcl-pr iv_decodeBase64 varchar(2097152:4) ccsid(*utf8) extproc(*CWIDEN : 'iv_decodeBase64') rtnparm;                1000619
000620+  string varchar(2097152:4) ccsid(*utf8) options(*varsize) const;                                                   1000620
000621+end-pr;                                                                                                             1000621
000622+                                                                                                                    1000622
000623+///                                                                                                                 1000623
000624+// Base64 encoding value                                                                                            1000624
000625+//                                                                                                                  1000625
000626+// Encodes a string into base64 .                                                                                   1000626
000627+//                                                                                                                  1000627
000628+// @param string to encode                                                                                          1000628
000629+// @return Encoded string                                                                                           1000629
000630+//                                                                                                                  1000630
000631+// @info The character encoding for the original value is expected to be UTF-8.                                     1000631
000632+///                                                                                                                 1000632
000633+dcl-pr iv_encodeBase64 varchar(2097152:4) ccsid(*utf8) extproc(*CWIDEN : 'iv_encodeBase64') rtnparm;                1000633
000634+  string varchar(2097152:4) ccsid(*utf8) options(*varsize) const;                                                   1000634
000635+end-pr;                                                                                                             1000635
000636+                                                                                                                    1000636
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     17
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000637+///                                                                                                                 1000637
000638+// Add message to job log                                                                                           1000638
000639+//                                                                                                                  1000639
000640+// Convenience function: put message in joblog.                                                                     1000640
000641+// Works like printf but with strings only like                                                                     1000641
000642+// <br/><br/>                                                                                                       1000642
000643+// <code>iv_joblog('This is %s a test' : 'super');</code>                                                           1000643
000644+//                                                                                                                  1000644
000645+// @param message string                                                                                            1000645
000646+///                                                                                                                 1000646
000647+dcl-pr iv_joblog extproc(*CWIDEN : 'iv_joblog') ;                                                                   1000647
000648+  message varchar(512) options(*varsize)  const ;                                                                   1000648
000649+end-pr;                                                                                                             1000649
000650+                                                                                                                    1000650
000651+///                                                                                                                 1000651
000652+// Set Comm Trace                                                                                                   1000652
000653+//                                                                                                                  1000653
000654+// Enables the communication trace. The trace data will be written to the passed                                    1000654
000655+// file.                                                                                                            1000655
000656+//                                                                                                                  1000656
000657+// @param Pointer to the HTTP client                                                                                1000657
000658+// @param IFS path to the trace file                                                                                1000658
000659+///                                                                                                                 1000659
000660+dcl-pr iv_setCommTrace extproc(*dclcase) ;                                                                          1000660
000661+    client    pointer value;                                                                                        1000661
000662+    traceFile pointer options(*string) value;                                                                       1000662
000663+end-pr;                                                                                                             1000663
000664+                                                                                                                    1000664
000665+///                                                                                                                 1000665
000666+// Convert varchar value                                                                                            1000666
000667+//                                                                                                                  1000667
000668+// Converts the value of a (small) varchar variable to another CCSID.                                               1000668
000669+//                                                                                                                  1000669
000670+// @param Input and output string                                                                                   1000670
000671+// @param From CCSID                                                                                                1000671
000672+// @param To CCSID                                                                                                  1000672
000673+// @return Converted value                                                                                          1000673
000674+///                                                                                                                 1000674
000675+dcl-pr iv_xlateVc varchar(32768:2) ccsid(65535) extproc(*CWIDEN : 'iv_xlateVc') rtnparm;                            1000675
000676+  inoutString varchar(32768:2) ccsid(65535) options(*varsize) const;                                                1000676
000677+  fromCCSID int(10) value;                                                                                          1000677
000678+  toCCSID   int(10) value;                                                                                          1000678
000679+end-pr;                                                                                                             1000679
000680+                                                                                                                    1000680
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     18
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000681+///                                                                                                                 1000681
000682+// Convert long varchar value                                                                                       1000682
000683+//                                                                                                                  1000683
000684+// Converts the value of a (long) varchar variable to another CCSID.                                                1000684
000685+//                                                                                                                  1000685
000686+// @param Input and output string                                                                                   1000686
000687+// @param From CCSID                                                                                                1000687
000688+// @param To CCSID                                                                                                  1000688
000689+// @return Converted value                                                                                          1000689
000690+///                                                                                                                 1000690
000691+dcl-pr iv_xlateLvc varchar(2097152:4) ccsid(65535) extproc(*CWIDEN : 'iv_xlateLvc') rtnparm;                        1000691
000692+    inoutString varchar(2097152:4) ccsid(65535) options(*varsize) const;                                            1000692
000693+    fromCCSID int(10) value;                                                                                        1000693
000694+    toCCSID   int(10) value;                                                                                        1000694
000695+end-pr;                                                                                                             1000695
000696+                                                                                                                    1000696
000697+///                                                                                                                 1000697
000698+// Execute GET HTTP request                                                                                         1000698
000699+//                                                                                                                  1000699
000700+// Executes a GET HTTP request to the passed URL.                                                                   1000700
000701+//                                                                                                                  1000701
000702+// @param URL                                                                                                       1000702
000703+// @param MIME type for the <code>Accept</code> HTTP header                                                         1000703
000704+// @param Pointer to a simple list with additional HTTP headers                                                     1000704
000705+// @return Response message body                                                                                    1000705
000706+//                                                                                                                  1000706
000707+// @throws Escape message on an unsuccessful request with the HTTP status encoded                                   1000707
000708+//         like ILV0404 for a 404 HTTP status.                                                                      1000708
000709+///                                                                                                                 1000709
000710+dcl-pr iv_get varchar(IV_BUFFER_SIZE:4) ccsid(1208) extproc(*dclcase) rtnparm;                                      1000710
000711+    url varchar(IV_URL_SIZE:2) value;                                                                               1000711
000712+    acceptMimeType varchar(IV_HEADER_VALUE_SIZE:2) ccsid(1208) value options(*nopass);                              1000712
000713+    headers pointer value options(*nopass);                                                                         1000713
000714+end-pr;                                                                                                             1000714
000715+                                                                                                                    1000715
000716+///                                                                                                                 1000716
000717+// Execute DELETE HTTP request                                                                                      1000717
000718+//                                                                                                                  1000718
000719+// Executes a DELETE HTTP request to the passed URL.                                                                1000719
000720+//                                                                                                                  1000720
000721+// @param URL                                                                                                       1000721
000722+// @param Pointer to a simple list with additional HTTP headers                                                     1000722
000723+// @return Response message body                                                                                    1000723
000724+//                                                                                                                  1000724
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     19
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000725+// @throws Escape message on an unsuccessful request with the HTTP status encoded                                   1000725
000726+//         like ILV0404 for a 404 HTTP status.                                                                      1000726
000727+///                                                                                                                 1000727
000728+dcl-pr iv_delete varchar(IV_BUFFER_SIZE:4) ccsid(1208) extproc(*dclcase) rtnparm;                                   1000728
000729+    url varchar(IV_URL_SIZE:2) value;                                                                               1000729
000730+    headers pointer value options(*nopass);                                                                         1000730
000731+end-pr;                                                                                                             1000731
000732+                                                                                                                    1000732
000733+///                                                                                                                 1000733
000734+// Execute HEAD HTTP request                                                                                        1000734
000735+//                                                                                                                  1000735
000736+// Executes a HEAD HTTP request to the passed URL.                                                                  1000736
000737+//                                                                                                                  1000737
000738+// @param URL                                                                                                       1000738
000739+// @param Pointer to a simple list with additional HTTP headers                                                     1000739
000740+// @return <code>*on</code> if the request was successful (HTTP status 2xx)                                         1000740
000741+//                                                                                                                  1000741
000742+// @throws Info message on an unsuccessful request with the HTTP status encoded                                     1000742
000743+//         like ILV0404 for a 404 HTTP status.                                                                      1000743
000744+///                                                                                                                 1000744
000745+dcl-pr iv_head ind extproc(*dclcase);                                                                               1000745
000746+    url varchar(IV_URL_SIZE:2) value;                                                                               1000746
000747+    headers pointer value options(*nopass);                                                                         1000747
000748+end-pr;                                                                                                             1000748
000749+                                                                                                                    1000749
000750+///                                                                                                                 1000750
000751+// Execute OPTIONS HTTP request                                                                                     1000751
000752+//                                                                                                                  1000752
000753+// Executes a OPTIONS HTTP request to the passed URL.                                                               1000753
000754+//                                                                                                                  1000754
000755+// @param URL                                                                                                       1000755
000756+// @param MIME type for the <code>Accept</code> HTTP header                                                         1000756
000757+// @param Pointer to a simple list with additional HTTP headers                                                     1000757
000758+// @return Response message body                                                                                    1000758
000759+//                                                                                                                  1000759
000760+// @throws Escape message on an unsuccessful request with the HTTP status encoded                                   1000760
000761+//         like ILV0404 for a 404 HTTP status.                                                                      1000761
000762+///                                                                                                                 1000762
000763+dcl-pr iv_options varchar(IV_BUFFER_SIZE:4) ccsid(1208) extproc(*dclcase) rtnparm;                                  1000763
000764+    url varchar(IV_URL_SIZE:2) value;                                                                               1000764
000765+    acceptMimeType varchar(IV_HEADER_VALUE_SIZE:2) ccsid(1208) value options(*nopass);                              1000765
000766+    headers pointer value options(*nopass);                                                                         1000766
000767+end-pr;                                                                                                             1000767
000768+                                                                                                                    1000768
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     20
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000769+///                                                                                                                 1000769
000770+// Execute PATCH HTTP request                                                                                       1000770
000771+//                                                                                                                  1000771
000772+// Executes a PATCH HTTP request to the passed URL.                                                                 1000772
000773+//                                                                                                                  1000773
000774+// @param URL                                                                                                       1000774
000775+// @param Request message body                                                                                      1000775
000776+// @param MIME type for the <code>Content-Type</code> HTTP header                                                   1000776
000777+// @param Pointer to a simple list with additional HTTP headers                                                     1000777
000778+// @return Response message body                                                                                    1000778
000779+//                                                                                                                  1000779
000780+// @throws Escape message on an unsuccessful request with the HTTP status encoded                                   1000780
000781+//         like ILV0404 for a 404 HTTP status.                                                                      1000781
000782+///                                                                                                                 1000782
000783+dcl-pr iv_patch varchar(IV_BUFFER_SIZE:4) ccsid(1208) extproc(*dclcase) rtnparm;                                    1000783
000784+    url varchar(IV_URL_SIZE:2) value;                                                                               1000784
000785+    messageBody varchar(IV_BUFFER_SIZE:4) const ccsid(1208);                                                        1000785
000786+    contentType varchar(IV_HEADER_VALUE_SIZE:2) ccsid(1208) value options(*nopass);                                 1000786
000787+    headers pointer value options(*nopass);                                                                         1000787
000788+end-pr;                                                                                                             1000788
000789+                                                                                                                    1000789
000790+///                                                                                                                 1000790
000791+// Execute POST HTTP request                                                                                        1000791
000792+//                                                                                                                  1000792
000793+// Executes a POST HTTP request to the passed URL.                                                                  1000793
000794+//                                                                                                                  1000794
000795+// @param URL                                                                                                       1000795
000796+// @param Request message body                                                                                      1000796
000797+// @param MIME type for the <code>Content-Type</code> HTTP header                                                   1000797
000798+// @param Pointer to a simple list with additional HTTP headers                                                     1000798
000799+// @return Response message body                                                                                    1000799
000800+//                                                                                                                  1000800
000801+// @throws Escape message on an unsuccessful request with the HTTP status encoded                                   1000801
000802+//         like ILV0404 for a 404 HTTP status.                                                                      1000802
000803+///                                                                                                                 1000803
000804+dcl-pr iv_post varchar(IV_BUFFER_SIZE:4) ccsid(1208) extproc(*dclcase) rtnparm;                                     1000804
000805+    url varchar(IV_URL_SIZE:2) value;                                                                               1000805
000806+    messageBody varchar(IV_BUFFER_SIZE:4) const ccsid(1208);                                                        1000806
000807+    contentType varchar(IV_HEADER_VALUE_SIZE:2) ccsid(1208) value options(*nopass);                                 1000807
000808+    headers pointer value options(*nopass);                                                                         1000808
000809+end-pr;                                                                                                             1000809
000810+                                                                                                                    1000810
000811+///                                                                                                                 1000811
000812+// Execute POST HTTP request with form data                                                                         1000812
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     21
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000813+//                                                                                                                  1000813
000814+// Executes a POST HTTP request to the passed URL. The message body is the passed                                   1000814
000815+// form data. The data will not be further encoded but passed to the server as is.                                  1000815
000816+// The content-type will be application/x-www-form-urlencoded. This can be                                          1000816
000817+// overridden by passing the content-type as an additional header to the procedure.                                 1000817
000818+// The form data can be created with the procedure iv_form_of.                                                      1000818
000819+//                                                                                                                  1000819
000820+// @param URL                                                                                                       1000820
000821+// @param Request message body (form data)                                                                          1000821
000822+// @param Pointer to a simple list with additional HTTP headers                                                     1000822
000823+// @return Response message body                                                                                    1000823
000824+//                                                                                                                  1000824
000825+// @throws Escape message on an unsuccessful request with the HTTP status encoded                                   1000825
000826+//         like ILV0404 for a 404 HTTP status.                                                                      1000826
000827+///                                                                                                                 1000827
000828+dcl-pr iv_postForm varchar(IV_BUFFER_SIZE:4) ccsid(1208) extproc(*dclcase) rtnparm;                                 1000828
000829+    url varchar(IV_URL_SIZE:2) value;                                                                               1000829
000830+    formData likeds(iv_lvarpuchar_t);                                                                               1000830
000831+    headers pointer value options(*nopass);                                                                         1000831
000832+end-pr;                                                                                                             1000832
000833+                                                                                                                    1000833
000834+///                                                                                                                 1000834
000835+// Execute PUT HTTP request                                                                                         1000835
000836+//                                                                                                                  1000836
000837+// Executes a PUT HTTP request to the passed URL.                                                                   1000837
000838+//                                                                                                                  1000838
000839+// @param URL                                                                                                       1000839
000840+// @param Request message body                                                                                      1000840
000841+// @param MIME type for the <code>Content-Type</code> HTTP header                                                   1000841
000842+// @param Pointer to a simple list with additional HTTP headers                                                     1000842
000843+// @return Response message body                                                                                    1000843
000844+//                                                                                                                  1000844
000845+// @throws Escape message on an unsuccessful request with the HTTP status encoded                                   1000845
000846+//         like ILV0404 for a 404 HTTP status.                                                                      1000846
000847+///                                                                                                                 1000847
000848+dcl-pr iv_put varchar(IV_BUFFER_SIZE:4) ccsid(1208) extproc(*dclcase) rtnparm;                                      1000848
000849+    url varchar(IV_URL_SIZE:2) value;                                                                               1000849
000850+    messageBody varchar(IV_BUFFER_SIZE:4) const ccsid(1208);                                                        1000850
000851+    contentType varchar(IV_HEADER_VALUE_SIZE:2) ccsid(1208) value options(*nopass);                                 1000851
000852+    headers pointer value options(*nopass);                                                                         1000852
000853+end-pr;                                                                                                             1000853
000854+                                                                                                                    1000854
000855+///                                                                                                                 1000855
000856+// Added HTTP header                                                                                                1000856
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     22
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000857+//                                                                                                                  1000857
000858+// Adds the passed HTTP header (key/value) to the HTTP client instance. This                                        1000858
000859+// HTTP header will be added to each request done with this client instance.                                        1000859
000860+// <p>                                                                                                              1000860
000861+// Duplicate HTTP header keys are allowed in an HTTP message. Generally the last                                    1000861
000862+// one "wins".                                                                                                      1000862
000863+//                                                                                                                  1000863
000864+// @param Pointer to the HTTP client                                                                                1000864
000865+// @param HTTP header name (key)                                                                                    1000865
000866+// @param HTTP header value                                                                                         1000866
000867+///                                                                                                                 1000867
000868+dcl-pr iv_addHeader extproc(*dclcase);                                                                              1000868
000869+    client pointer value;                                                                                           1000869
000870+    headerName varchar(IV_HEADER_NAME_SIZE:2) ccsid(*utf8) value;                                                   1000870
000871+    headerValue varchar(IV_HEADER_VALUE_SIZE:2) ccsid(*utf8) value;                                                 1000871
000872+end-pr;                                                                                                             1000872
000873+                                                                                                                    1000873
000874+///                                                                                                                 1000874
000875+// Add list of HTTP headers                                                                                         1000875
000876+//                                                                                                                  1000876
000877+// Adds a list of HTTP headers (key/value pairs) to the HTTP client instance.                                       1000877
000878+// These HTTP headers will be added to each request done with this client instance.                                 1000878
000879+// <p>                                                                                                              1000879
000880+// Duplicate HTTP header keys are allowed in an HTTP message. Generally the last                                    1000880
000881+// one "wins".                                                                                                      1000881
000882+//                                                                                                                  1000882
000883+// @param Pointer to the HTTP client                                                                                1000883
000884+// @param Simple list of HTTP headers                                                                               1000884
000885+///                                                                                                                 1000885
000886+dcl-pr iv_addHeaders extproc(*dclcase);                                                                             1000886
000887+    client pointer value;                                                                                           1000887
000888+    headers pointer value;                                                                                          1000888
000889+end-pr;                                                                                                             1000889
000890+                                                                                                                    1000890
000891+///                                                                                                                 1000891
000892+// Set timeout                                                                                                      1000892
000893+//                                                                                                                  1000893
000894+// Sets the timeout for the client instance.                                                                        1000894
000895+//                                                                                                                  1000895
000896+// @param Pointer to the HTTP client                                                                                1000896
000897+// @param Timeout in seconds                                                                                        1000897
000898+///                                                                                                                 1000898
000899+dcl-pr iv_setTimeout extproc(*dclcase);                                                                             1000899
000900+    client pointer value;                                                                                           1000900
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     23
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000901+    timeout packed(9:3) value;                                                                                      1000901
000902+end-pr;                                                                                                             1000902
000903+                                                                                                                    1000903
000904+///                                                                                                                 1000904
000905+// Set Retries                                                                                                      1000905
000906+//                                                                                                                  1000906
000907+// Sets the number of retries the client does on an unsuccessful request.                                           1000907
000908+//                                                                                                                  1000908
000909+// @param Pointer to the HTTP client                                                                                1000909
000910+// @param Number of retries                                                                                         1000910
000911+///                                                                                                                 1000911
000912+dcl-pr iv_setRetries extproc(*dclcase);                                                                             1000912
000913+    client pointer value;                                                                                           1000913
000914+    retries int(5) value;                                                                                           1000914
000915+end-pr;                                                                                                             1000915
000916+                                                                                                                    1000916
000917+///                                                                                                                 1000917
000918+// Build HTTP header list                                                                                           1000918
000919+//                                                                                                                  1000919
000920+// Builds a list of HTTP headers which can be used on the convenience HTTP                                          1000920
000921+// procedures like <code>iv_get</code> to add custom HTTP headers to the                                            1000921
000922+// HTTP request.                                                                                                    1000922
000923+//                                                                                                                  1000923
000924+// @param Key 1                                                                                                     1000924
000925+// @param Value 1                                                                                                   1000925
000926+// @param Key 2                                                                                                     1000926
000927+// @param Value 2                                                                                                   1000927
000928+// @param Key 3                                                                                                     1000928
000929+// @param Value 3                                                                                                   1000929
000930+// @param Key 4                                                                                                     1000930
000931+// @param Value 4                                                                                                   1000931
000932+// @param Key 5                                                                                                     1000932
000933+// @param Value 5                                                                                                   1000933
000934+// @return Simple list instance with the passed entries                                                             1000934
000935+//                                                                                                                  1000935
000936+// @info The procedure <code>iv_addHeaderToList</code> can be used to add more                                      1000936
000937+//       entries to the list.                                                                                       1000937
000938+///                                                                                                                 1000938
000939+dcl-pr iv_buildList pointer extproc(*dclcase);                                                                      1000939
000940+    key1 varchar(IV_HEADER_NAME_SIZE) ccsid(*utf8) const options(*nopass);                                          1000940
000941+    value1 varchar(IV_HEADER_VALUE_SIZE) ccsid(*utf8) const options(*nopass);                                       1000941
000942+    key2 varchar(IV_HEADER_NAME_SIZE) ccsid(*utf8) const options(*nopass);                                          1000942
000943+    value2 varchar(IV_HEADER_VALUE_SIZE) ccsid(*utf8) const options(*nopass);                                       1000943
000944+    key3 varchar(IV_HEADER_NAME_SIZE) ccsid(*utf8) const options(*nopass);                                          1000944
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     24
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000945+    value3 varchar(IV_HEADER_VALUE_SIZE) ccsid(*utf8) const options(*nopass);                                       1000945
000946+    key4 varchar(IV_HEADER_NAME_SIZE) ccsid(*utf8) const options(*nopass);                                          1000946
000947+    value4 varchar(IV_HEADER_VALUE_SIZE) ccsid(*utf8) const options(*nopass);                                       1000947
000948+    key5 varchar(IV_HEADER_NAME_SIZE) ccsid(*utf8) const options(*nopass);                                          1000948
000949+    value5 varchar(IV_HEADER_VALUE_SIZE) ccsid(*utf8) const options(*nopass);                                       1000949
000950+end-pr;                                                                                                             1000950
000951+                                                                                                                    1000951
000952+///                                                                                                                 1000952
000953+// Free list                                                                                                        1000953
000954+//                                                                                                                  1000954
000955+// Cleanup memory of the passed simple list instance.                                                               1000955
000956+//                                                                                                                  1000956
000957+// @param Pointer to the list                                                                                       1000957
000958+//                                                                                                                  1000958
000959+///                                                                                                                 1000959
000960+dcl-pr iv_freeList extproc(*dclcase);                                                                               1000960
000961+    list pointer;                                                                                                   1000961
000962+end-pr;                                                                                                             1000962
000963+                                                                                                                    1000963
000964+///                                                                                                                 1000964
000965+// Add HTTP header to list                                                                                          1000965
000966+//                                                                                                                  1000966
000967+// Adds the passed HTTP header (key/value) to the passed list of headers.                                           1000967
000968+// <p>                                                                                                              1000968
000969+// Duplicate HTTP header keys are allowed in an HTTP message. Generally the last                                    1000969
000970+// one "wins".                                                                                                      1000970
000971+//                                                                                                                  1000971
000972+// @param Pointer to the list (simple list)                                                                         1000972
000973+// @param HTTP header name (key)                                                                                    1000973
000974+// @param HTTP header value                                                                                         1000974
000975+///                                                                                                                 1000975
000976+dcl-pr iv_addHeaderToList extproc(*dclcase);                                                                        1000976
000977+    list pointer value;                                                                                             1000977
000978+    headerKey varchar(IV_HEADER_NAME_SIZE) ccsid(*utf8) const;                                                      1000978
000979+    headerValue varchar(IV_HEADER_VALUE_SIZE) ccsid(*utf8) const;                                                   1000979
000980+end-pr;                                                                                                             1000980
000981+                                                                                                                    1000981
000982+///                                                                                                                 1000982
000983+// Add entry to list                                                                                                1000983
000984+//                                                                                                                  1000984
000985+// Adds the passed entry (key/value) to the passed list. The key and value will be added                            1000985
000986+// as is. Duplicate keys in the list are allowed.                                                                   1000986
000987+//                                                                                                                  1000987
000988+// @param Pointer to the list (simple list)                                                                         1000988
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     25
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000989+// @param Key                                                                                                       1000989
000990+// @param Value                                                                                                     1000990
000991+///                                                                                                                 1000991
000992+dcl-pr iv_addEntryToList extproc(*dclcase);                                                                         1000992
000993+    list pointer value;                                                                                             1000993
000994+    key pointer value options(*string);                                                                             1000994
000995+    value pointer value options(*string);                                                                           1000995
000996+end-pr;                                                                                                             1000996
000997+                                                                                                                    1000997
000998+///                                                                                                                 1000998
000999+// Set request handler                                                                                              1000999
001000+//                                                                                                                  1001000
001001+// Sets the request handler which will be called on every HTTP request.                                             1001001
001002+//                                                                                                                  1001002
001003+// @param Pointer to the HTTP client                                                                                1001003
001004+// @param Pointer to the request handler                                                                            1001004
001005+///                                                                                                                 1001005
001006+dcl-pr iv_setRequestHandler extproc(*dclcase);                                                                      1001006
001007+    client pointer value;                                                                                           1001007
001008+    handler pointer value;                                                                                          1001008
001009+end-pr;                                                                                                             1001009
000006 /include 'anychar.rpginc'                                                                                            000006
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  anychar.r+                                                   *                     2
        * External name  . . . . . . :  headers/anychar.rpginc                                       *                     2
        * Last change  . . . . . . . :  23-05-23  11:26:42                                           *                     2
        *--------------------------------------------------------------------------------------------*
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000001+**FREE                                                                                                              2000001
000002+                                                                                                                    2000002
000003+/if not defined (ILEVATOR_ANYCHAR_H)                                                                                2000003
000004+/define ILEVATOR_ANYCHAR_H                                                                                          2000004
000005+                                                                                                                    2000005
000006+                                                                                                                    2000006
000007+dcl-ds anychar_t qualified template;                                                                                2000007
000008+    data pointer;                                                                                                   2000008
000009+    size uns(10);                                                                                                   2000009
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     26
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000010+    length uns(10);                                                                                                 2000010
000011+    type int(10);                                                                                                   2000011
000012+    ccsid int(10);                                                                                                  2000012
000013+end-ds;                                                                                                             2000013
000014+                                                                                                                    2000014
000015+                                                                                                                    2000015
000016+dcl-pr iv_anychar_set extproc(*CWIDEN : 'iv_anychar_set');                                                          2000016
000017+    anychar pointer value;                                                                                          2000017
000018+    buffer pointer value;                                                                                           2000018
000019+    bufferSize int(10) value;                                                                                       2000019
000020+    bufferType int(5) value;                                                                                        2000020
000021+    bufferXlate int(5) value;                                                                                       2000021
000022+end-pr;                                                                                                             2000022
000023+                                                                                                                    2000023
000024+dcl-pr iv_anychar_append extproc(*CWIDEN : 'iv_anychar_append');                                                    2000024
000025+    anychar pointer value;                                                                                          2000025
000026+    string pointer value;                                                                                           2000026
000027+    length int(10) value;                                                                                           2000027
000028+end-pr;                                                                                                             2000028
000029+                                                                                                                    2000029
000030+dcl-pr iv_anychar_finalize extproc(*CWIDEN : 'iv_anychar_finalize');                                                2000030
000031+  anychar pointer value;                                                                                            2000031
000032+end-pr;                                                                                                             2000032
000033+                                                                                                                    2000033
000034+/endif                                                                                                              2000034
000007 /include 'chunked.rpginc'                                                                                            000007
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  chunked.r+                                                   *                     3
        * External name  . . . . . . :  headers/chunked.rpginc                                       *                     3
        * Last change  . . . . . . . :  23-05-23  11:26:42                                           *                     3
        *--------------------------------------------------------------------------------------------*
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000001+**FREE                                                                                                              3000001
000002+                                                                                                                    3000002
000003+/if defined (ILEVATOR_CHUNKED_H)                                                                                    3000003
            LINES EXCLUDED: 1
000005+/endif                                                                                                              3000005
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     27
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000006+                                                                                                                    3000006
000007+/define ILEVATOR_CHUNKED_H                                                                                          3000007
000008+                                                                                                                    3000008
000009+dcl-pr iv_chunked_receive int(10) extproc(*dclcase);                                                                3000009
000010+    client pointer value;                                                                                           3000010
000011+end-pr;                                                                                                             3000011
000008 /include 'debug.rpginc'                                                                                              000008
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  debug.rpg+                                                   *                     4
        * External name  . . . . . . :  headers/debug.rpginc                                         *                     4
        * Last change  . . . . . . . :  23-05-23  11:26:42                                           *                     4
        *--------------------------------------------------------------------------------------------*
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000001+**FREE                                                                                                              4000001
000002+                                                                                                                    4000002
000003+/if defined (ILEVATOR_DEBUG)                                                                                        4000003
            LINES EXCLUDED: 1
000005+/endif                                                                                                              4000005
000006+                                                                                                                    4000006
000007+/define ILEVATOR_DEBUG                                                                                              4000007
000008+                                                                                                                    4000008
000009+                                                                                                                    4000009
000010+dcl-pr iv_debug_init int(10) extproc(*dclcase) end-pr;                                                              4000010
000011+                                                                                                                    4000011
000012+dcl-pr iv_debug extproc(*dclcase) opdesc;                                                                           4000012
000013+    message pointer value options(*string);                                                                         4000013
000014+    replaceValue1 pointer value options(*string : *nopass);                                                         4000014
000015+    replaceValue2 pointer value options(*string : *nopass);                                                         4000015
000016+    replaceValue3 pointer value options(*string : *nopass);                                                         4000016
000017+    replaceValue4 pointer value options(*string : *nopass);                                                         4000017
000018+    replaceValue5 pointer value options(*string : *nopass);                                                         4000018
000019+    replaceValue6 pointer value options(*string : *nopass);                                                         4000019
000020+    replaceValue7 pointer value options(*string : *nopass);                                                         4000020
000021+end-pr;                                                                                                             4000021
000009 /include 'httpclient.rpginc'                                                                                         000009
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     28
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  httpclien+                                                   *                     5
        * External name  . . . . . . :  headers/httpclient.rpginc                                    *                     5
        * Last change  . . . . . . . :  23-05-23  11:26:43                                           *                     5
        *--------------------------------------------------------------------------------------------*
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000001+**FREE                                                                                                              5000001
000002+                                                                                                                    5000002
000003+/if defined (ILEVATOR_HTTPCLIENT_H)                                                                                 5000003
            LINES EXCLUDED: 1
000005+/endif                                                                                                              5000005
000006+                                                                                                                    5000006
000007+/define ILEVATOR_HTTPCLIENT_H                                                                                       5000007
000008+                                                                                                                    5000008
000009+                                                                                                                    5000009
000010+dcl-pr parseUrl extproc(*dclcase);                                                                                  5000010
000011+    client pointer value;                                                                                           5000011
000012+    url pointer value options(*string);                                                                             5000012
000013+end-pr;                                                                                                             5000013
000014+                                                                                                                    5000014
000015+dcl-pr sendRequest int(10) extproc(*dclcase);                                                                       5000015
000016+    client pointer value;                                                                                           5000016
000017+end-pr;                                                                                                             5000017
000018+                                                                                                                    5000018
000019+dcl-pr receiveHeader int(10) extproc(*dclcase);                                                                     5000019
000020+    client pointer value;                                                                                           5000020
000021+end-pr;                                                                                                             5000021
000022+                                                                                                                    5000022
000023+dcl-pr receiveData int(10) extproc(*dclcase);                                                                       5000023
000024+    client pointer value;                                                                                           5000024
000025+end-pr;                                                                                                             5000025
000010 /include 'libc.rpginc'                                                                                               000010
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  libc.rpgi+                                                   *                     6
        * External name  . . . . . . :  ext/headers/libc.rpginc                                      *                     6
        * Last change  . . . . . . . :  23-05-23  11:26:39                                           *                     6
        *--------------------------------------------------------------------------------------------*
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     29
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
000001+ /if not defined(QUSEC)                                                                                             6000001
000002+ /define QUSEC                                                                                                      6000002
000003+ /copy QSYSINC/QRPGLESRC,QUSEC                                                                                      6000003
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  QUSEC                                                        *                     7
        * External name  . . . . . . :  QSYSINC/QRPGLESRC(QUSEC)                                     *                     7
        * Last change  . . . . . . . :  17-02-19  10:02:41                                           *                     7
        * Text 'description' . . . . :  COMMON STRUCTURE FOR ERROR CODE PARAMETER                    *                     7
        *--------------------------------------------------------------------------------------------*
000001+D*** START HEADER FILE SPECIFICATIONS ****************************                                        000000    7000001
000002+D*                                                                                                        000000    7000002
000003+D*Header File Name: H/QUSEC                                                                               000000    7000003
000004+D*                                                                                                        000000    7000004
000005+D*Descriptive Name: Error Code Parameter.                                                                 000000    7000005
000006+D*                                                                                                        000000    7000006
000007+D*5763-SS1, 5722-SS1 (C) Copyright IBM Corp. 1994, 2001.                                                  000000    7000007
000008+D*All rights reserved.                                                                                    000000    7000008
000009+D*US Government Users Restricted Rights -                                                                 000000    7000009
000010+D*Use, duplication or disclosure restricted                                                               000000    7000010
000011+D*by GSA ADP Schedule Contract with IBM Corp.                                                             000000    7000011
000012+D*                                                                                                        000000    7000012
000013+D*Licensed Materials-Property of IBM                                                                      000000    7000013
000014+D*                                                                                                        000000    7000014
000015+D*                                                                                                        000000    7000015
000016+D*Description: Include header file for the error code parameter.                                          000000    7000016
000017+D*                                                                                                        000000    7000017
000018+D*Header Files Included: None.                                                                            000000    7000018
000019+D*                                                                                                        000000    7000019
000020+D*Macros List: None.                                                                                      000000    7000020
000021+D*                                                                                                        000000    7000021
000022+D*Structure List: Qus_EC_t                                                                                000000    7000022
000023+D*             Qus_ERRC0200_t                                                                             000000    7000023
000024+D*                                                                                                        000000    7000024
000025+D*Function Prototype List: None.                                                                          000000    7000025
000026+D*                                                                                                        000000    7000026
000027+D*Change Activity:                                                                                        000000    7000027
000028+D*                                                                                                        000000    7000028
000029+D*CFD List:                                                                                               000000    7000029
000030+D*                                                                                                        000000    7000030
000031+D*FLAG REASON       LEVEL DATE   PGMR      CHANGE DESCRIPTION                                             000000    7000031
000032+D*---- ------------ ----- ------ --------- ----------------------                                         000000    7000032
000033+D*                                                                                                        000000    7000033
000034+D*End CFD List.                                                                                           000000    7000034
000035+D*                                                                                                        000000    7000035
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     30
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
000036+D*Additional notes about the Change Activity                                                              000000    7000036
000037+D*End Change Activity.                                                                                    000000    7000037
000038+D*** END HEADER FILE SPECIFICATIONS ******************************                                        000000    7000038
000039+D*****************************************************************                                        000000    7000039
000040+D*Record structure for Error Code Parameter                                                               000000    7000040
000041+D****                                                          ***                                        000000    7000041
000042+D*NOTE: The following type definition only defines the fixed                                              000000    7000042
000043+D*   portion of the format.  Varying length field Exception                                               000000    7000043
000044+D*   Data will not be defined here.                                                                       000000    7000044
000045+D*****************************************************************                                        000000    7000045
000046+DQUSEC            DS                                                                                      000000    7000046
000047+D*                                             Qus EC                                                     000000    7000047
000048+D QUSBPRV                 1      4I 0                                                                     000000    7000048
000049+D*                                             Bytes Provided                                             000000    7000049
000050+D QUSBAVL                 5      8I 0                                                                     000000    7000050
000051+D*                                             Bytes Available                                            000000    7000051
000052+D QUSEI                   9     15                                                                        000000    7000052
000053+D*                                             Exception Id                                               000000    7000053
000054+D QUSERVED               16     16                                                                        000000    7000054
000055+D*                                             Reserved                                                   000000    7000055
000056+D*QUSED01                17     17                                                                        000000    7000056
000057+D*                                                                                                        000000    7000057
000058+D*                                      Varying length                                                    000000    7000058
000059+DQUSC0200         DS                                                                                      000000    7000059
000060+D*                                             Qus ERRC0200                                               000000    7000060
000061+D QUSK01                  1      4I 0                                                                     000000    7000061
000062+D*                                             Key                                                        000000    7000062
000063+D QUSBPRV00               5      8I 0                                                                     000000    7000063
000064+D*                                             Bytes Provided                                             000000    7000064
000065+D QUSBAVL14               9     12I 0                                                                     000000    7000065
000066+D*                                             Bytes Available                                            000000    7000066
000067+D QUSEI00                13     19                                                                        000000    7000067
000068+D*                                             Exception Id                                               000000    7000068
000069+D QUSERVED39             20     20                                                                        000000    7000069
000070+D*                                             Reserved                                                   000000    7000070
000071+D QUSCCSID11             21     24I 0                                                                     000000    7000071
000072+D*                                             CCSID                                                      000000    7000072
000073+D QUSOED01               25     28I 0                                                                     000000    7000073
000074+D*                                             Offset Exc Data                                            000000    7000074
000075+D QUSLED01               29     32I 0                                                                     000000    7000075
000076+D*                                             Length Exc Data                                            000000    7000076
000077+D*QUSRSV214              33     33                                                                        000000    7000077
000078+D*                                             Reserved2                                                  000000    7000078
000079+D*                                                                                                        000000    7000079
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     31
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
000080+D*QUSED02                34     34                                                                        000000    7000080
000081+D*                                                                                                        000000    7000081
000082+D*                                      Varying Length    @B1A                                            000000    7000082
000004+ /endif                                                                                                             6000004
000005+                                                                                                                    6000005
000006+ /if defined (LIBC)                                                                                                 6000006
            LINES EXCLUDED: 1
000008+ /endif                                                                                                             6000008
000009+                                                                                                                    6000009
000010+ /define LIBC                                                                                                       6000010
000011+                                                                                                                    6000011
000012+ *-------------------------------------------------------------------------                                         6000012
000013+ * Prototypes for C-Functions                                                                                       6000013
000014+ *-------------------------------------------------------------------------                                         6000014
000015+ *                                                                                                                  6000015
000016+ * string functions                                                                                                 6000016
000017+ *                                                                                                                  6000017
000018+D strtok          PR              *   extproc('strtok')                                                             6000018
000019+D  i_string                       *   value  options(*string)                                                       6000019
000020+D  i_token                        *   value  options(*string)                                                       6000020
000021+ *                                                                                                                  6000021
000022+D strlen          PR            10U 0 extproc('strlen')                                                             6000022
000023+D   string                        *   value                                                                         6000023
000024+ *                                                                                                                  6000024
000025+D strcmp          PR            10I 0 extproc('strcmp')                                                             6000025
000026+D  string1                        *   value                                                                         6000026
000027+D  string2                        *   value                                                                         6000027
000028+ *                                                                                                                  6000028
000029+D strncmp         PR            10I 0 extproc('strncmp')                                                            6000029
000030+D  string1                        *   value                                                                         6000030
000031+D  string2                        *   value                                                                         6000031
000032+D  count                        10I 0 value                                                                         6000032
000033+ *                                                                                                                  6000033
000034+D strcmpi         PR            10I 0 extproc('strcmpi')                                                            6000034
000035+D  string1                        *   value                                                                         6000035
000036+D  string2                        *   value                                                                         6000036
000037+ *                                                                                                                  6000037
000038+D strcasecmp      PR            10I 0 extproc('strcasecmp')                                                         6000038
000039+D  string1                        *   value                                                                         6000039
000040+D  string2                        *   value                                                                         6000040
000041+ *                                                                                                                  6000041
000042+D strncasecmp     PR            10I 0 extproc('strncasecmp')                                                        6000042
000043+D  string1                        *   value                                                                         6000043
000044+D  string2                        *   value                                                                         6000044
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     32
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
000045+D  count                        10I 0 value                                                                         6000045
000046+ *                                                                                                                  6000046
000047+D strstr          PR              *   extproc('strstr')                                                             6000047
000048+D  string1                        *   value                                                                         6000048
000049+D  string2                        *   value                                                                         6000049
000050+ *                                                                                                                  6000050
000051+D strcspn         PR            10I 0 extproc('strcspn')                                                            6000051
000052+D  string1                        *   value                                                                         6000052
000053+D  string2                        *   value                                                                         6000053
000054+ *                                                                                                                  6000054
000055+D requestControlBlockLower...                                                                                       6000055
000056+D                 DS                  qualified                                                                     6000056
000057+D   type                        10I 0 inz(0)                                                                        6000057
000058+D   ccsid                       10I 0 inz(0)                                                                        6000058
000059+D   case                        10I 0 inz(0)                                                                        6000059
000060+D   res1                        10A   inz(*ALLX'00')                                                                6000060
000061+ *                                                                                                                  6000061
000062+D requestControlBlockUpper...                                                                                       6000062
000063+D                 DS                  qualified                                                                     6000063
000064+D   type                        10I 0 inz(1)                                                                        6000064
000065+D   ccsid                       10I 0 inz(0)                                                                        6000065
000066+D   case                        10I 0 inz(0)                                                                        6000066
000067+D   res1                        10A   inz(*ALLX'00')                                                                6000067
000068+ *                                                                                                                  6000068
000069+D convertCase     PR                  extproc('QlgConvertCase')                                                     6000069
000070+D   reqContBlock                      const                                                                         6000070
000071+D                                     likeds(requestControlBlockUpper)                                              6000071
000072+D   input                     1024A   const options(*varsize)                                                       6000072
000073+D   output                    1024A   options(*varsize)                                                             6000073
000074+D   len                         10I 0 const                                                                         6000074
000075+D   errorcode                         likeds(QUSEC) options(*varsize)                                               6000075
000076+                                                                                                                    6000076
000077+ *                                                                                                                  6000077
000078+ * memory functions                                                                                                 6000078
000079+ *                                                                                                                  6000079
000080+D memcpy          PR              *          extproc('memcpy')                                                      6000080
000081+D  dest                           *   value                                                                         6000081
000082+D  source                         *   value                                                                         6000082
000083+D  count                        10U 0 value                                                                         6000083
000084+ *                                                                                                                  6000084
000085+D memset          PR              *          extproc('memset')                                                      6000085
000086+D  i_pDest                        *   value                                                                         6000086
000087+D  i_char                       10I 0 value                                                                         6000087
000088+D  i_count                      10U 0 value                                                                         6000088
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     33
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
000089+ *                                                                                                                  6000089
000090+D memmove         PR              *          extproc('memmove')                                                     6000090
000091+D  pMemDest                       *   value                                                                         6000091
000092+D  pMemSrc                        *   value                                                                         6000092
000093+D  memSize                      10U 0 value                                                                         6000093
000094+ *                                                                                                                  6000094
000095+D memcmp          PR            10I 0        extproc('memcmp')                                                      6000095
000096+D  pBuf1                          *   value                                                                         6000096
000097+D  pBuf2                          *   value                                                                         6000097
000098+D  count                        10U 0 value                                                                         6000098
000099+ *                                                                                                                  6000099
000100+D memicmp         PR            10I 0        extproc('__memicmp')                                                   6000100
000101+D  pBuf1                          *   value                                                                         6000101
000102+D  pBuf2                          *   value                                                                         6000102
000103+D  count                        10U 0 value                                                                         6000103
000104+                                                                                                                    6000104
000105+ *                                                                                                                  6000105
000106+ * math functions                                                                                                   6000106
000107+ *                                                                                                                  6000107
000108+D ceiling         PR             8F   extproc('ceil')                                                               6000108
000109+D   value                        8F   value                                                                         6000109
000110+ *                                                                                                                  6000110
000111+D floor           PR             8F   extproc('floor')                                                              6000111
000112+D   value                        8F   value                                                                         6000112
000113+                                                                                                                    6000113
000114+ *                                                                                                                  6000114
000115+ * other functions                                                                                                  6000115
000116+ *                                                                                                                  6000116
000117+D tmpnam          PR              *   extproc('tmpnam')                                                             6000117
000118+D   buffer                      39A   options(*omit)                                                                6000118
000119+ *                                                                                                                  6000119
000120+D tmpnamIFS       PR              *   extproc('_C_IFS_tmpnam')                                                      6000120
000121+D   buffer                      39A   options(*omit)                                                                6000121
000122+ *                                                                                                                  6000122
000123+D system          PR            10I 0 extproc('system')                                                             6000123
000124+D   command                       *   value options(*string)                                                        6000124
000125+ *                                                                                                                  6000125
000126+D srand           PR                         extproc('srand')                                                       6000126
000127+D  i_seed                       10U 0 value                                                                         6000127
000128+ *                                                                                                                  6000128
000129+D rand            PR            10I 0        extproc('rand')                                                        6000129
000130+ *                                                                                                                  6000130
000131+D qsort           PR              *          extproc('qsort')                                                       6000131
000132+D  memPtr                         *   value                                                                         6000132
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     34
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
000133+D  numElem                      10U 0 value                                                                         6000133
000134+D  width                        10U 0 value                                                                         6000134
000135+D  pSortFunc                      *   value  procptr                                                                6000135
000136+ *                                                                                                                  6000136
000137+D bsearch         PR              *          extproc('bsearch')                                                     6000137
000138+D  keyPtr                         *   value                                                                         6000138
000139+D  memPtr                         *   value                                                                         6000139
000140+D  numElem                      10U 0 value                                                                         6000140
000141+D  width                        10U 0 value                                                                         6000141
000142+D  pSearchFnc                     *   value  procptr                                                                6000142
000143+                                                                                                                    6000143
000144+ *                                                                                                                  6000144
000145+ * error handling                                                                                                   6000145
000146+ *                                                                                                                  6000146
000147+D errno           PR              *   extproc('__errno')                                                            6000147
000148+ *                                                                                                                  6000148
000149+D strerr          PR              *   extproc('strerror')                                                           6000149
000150+D  errnum                       10I 0 value                                                                         6000150
000151+ * for backwards compatibility                                                                                      6000151
000152+D strerror        PR              *   extproc('strerror')                                                           6000152
000153+D  errnum                       10I 0 value                                                                         6000153
000154+                                                                                                                    6000154
000155+                                                                                                                    6000155
000156+ *                                                                                                                  6000156
000157+ * fcntl() commands                                                                                                 6000157
000158+ *                                                                                                                  6000158
000159+D F_DUPFD         C                   0                                                                             6000159
000160+D F_GETFL         C                   6                                                                             6000160
000161+D F_SETFL         C                   7                                                                             6000161
000162+D F_GETOWN        C                   8                                                                             6000162
000163+D F_SETOWN        C                   9                                                                             6000163
000164+ *                                                                                                                  6000164
000165+ * fcntl() flags                                                                                                    6000165
000166+ *                                                                                                                  6000166
000167+D O_NONBLOCK      C                   128                                                                           6000167
000168+D O_NDELAY        C                   128                                                                           6000168
000169+D FNDELAY         C                   128                                                                           6000169
000170+D FASYNC          C                   512                                                                           6000170
000171+                                                                                                                    6000171
000172+ *--------------------------------------------------------------------                                              6000172
000173+ *   fcntl()--Change Descriptor Attributes                                                                          6000173
000174+ *                                                                                                                  6000174
000175+ *   int fcntl(int descriptor, int command, ...)                                                                    6000175
000176+ *                                                                                                                  6000176
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     35
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
000177+ *   The third parameter (when used with sockets) is also an                                                        6000177
000178+ *   integer passed by value.. it specifies an argument for                                                         6000178
000179+ *   some of the commands.                                                                                          6000179
000180+ *                                                                                                                  6000180
000181+ *   commands supported in sockets are:                                                                             6000181
000182+ *          F_GETFL -- Return the status flags for the descriptor                                                   6000182
000183+ *          F_SETFL -- Set status flags for the descriptor                                                          6000183
000184+ *                    (Arg =)status flags (ORed) to set.                                                            6000184
000185+ * (the commands below arent terribly useful in RPG)                                                                6000185
000186+ *          F_DUPFD -- Duplicate the descriptor                                                                     6000186
000187+ *                    (Arg =)minimum value that new descriptor can be                                               6000187
000188+ *          F_GETOWN -- Return the process ID or group ID that's                                                    6000188
000189+ *                     set to receive SIGIO & SIGURG                                                                6000189
000190+ *          F_SETOWN -- Set the process ID or group ID that's                                                       6000190
000191+ *                     to receive SIGIO & SIGURG                                                                    6000191
000192+ *                    (Arg =)process ID (or neg value for group ID)                                                 6000192
000193+ *                                                                                                                  6000193
000194+ *  returns -1 upon error.                                                                                          6000194
000195+ *          successful values are command-specific.                                                                 6000195
000196+ *--------------------------------------------------------------------                                              6000196
000197+D fcntl           PR            10I 0 extproc('fcntl')                                                              6000197
000198+D   socketDesc                  10I 0 value                                                                         6000198
000199+D   command                     10I 0 value                                                                         6000199
000200+D   arg                         10I 0 value options(*nopass)                                                        6000200
000201+                                                                                                                    6000201
000202+                                                                                                                    6000202
000203+D atoi            PR            10I 0 extproc('atoi')                                                               6000203
000204+D   string                        *   value                                                                         6000204
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000011 /include 'message.rpginc'                                                                                            000011
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  message.r+                                                   *                     8
        * External name  . . . . . . :  ext/headers/message.rpginc                                   *                     8
        * Last change  . . . . . . . :  19-06-23  16:31:36                                           *                     8
        *--------------------------------------------------------------------------------------------*
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     36
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000001+**FREE                                                                                                              8000001
000002+                                                                                                                    8000002
000003+/if not defined (MESSAGE_H)                                                                                         8000003
000004+/define MESSAGE_H                                                                                                   8000004
000005+                                                                                                                    8000005
000006+dcl-pr message_send extproc(*CWIDEN : *dclcase);                                                                    8000006
000007+    messageId pointer value options(*string);                                                                       8000007
000008+    messageFile pointer value options(*string);                                                                     8000008
000009+    type pointer value options(*string);                                                                            8000009
000010+    message pointer value options(*string);                                                                         8000010
000011+    replaceValue1 pointer value options(*string : *nopass);                                                         8000011
000012+    replaceValue2 pointer value options(*string : *nopass);                                                         8000012
000013+    replaceValue3 pointer value options(*string : *nopass);                                                         8000013
000014+    replaceValue4 pointer value options(*string : *nopass);                                                         8000014
000015+    replaceValue5 pointer value options(*string : *nopass);                                                         8000015
000016+    replaceValue6 pointer value options(*string : *nopass);                                                         8000016
000017+    replaceValue7 pointer value options(*string : *nopass);                                                         8000017
000018+end-pr;                                                                                                             8000018
000019+                                                                                                                    8000019
000020+                                                                                                                    8000020
000021+dcl-pr message_sendPastControlBoundary extproc(*CWIDEN : *dclcase);                                                 8000021
000022+    messageId pointer value options(*string);                                                                       8000022
000023+    messageFile pointer value options(*string);                                                                     8000023
000024+    type pointer value options(*string);                                                                            8000024
000025+    message pointer value options(*string);                                                                         8000025
000026+    replaceValue1 pointer value options(*string : *nopass);                                                         8000026
000027+    replaceValue2 pointer value options(*string : *nopass);                                                         8000027
000028+    replaceValue3 pointer value options(*string : *nopass);                                                         8000028
000029+    replaceValue4 pointer value options(*string : *nopass);                                                         8000029
000030+    replaceValue5 pointer value options(*string : *nopass);                                                         8000030
000031+    replaceValue6 pointer value options(*string : *nopass);                                                         8000031
000032+    replaceValue7 pointer value options(*string : *nopass);                                                         8000032
000033+end-pr;                                                                                                             8000033
000034+                                                                                                                    8000034
000035+                                                                                                                    8000035
000036+dcl-pr message_info extproc(*CWIDEN : *dclcase);                                                                    8000036
000037+    message pointer value options(*string);                                                                         8000037
000038+    replaceValue1 pointer value options(*string : *nopass);                                                         8000038
000039+    replaceValue2 pointer value options(*string : *nopass);                                                         8000039
000040+    replaceValue3 pointer value options(*string : *nopass);                                                         8000040
000041+    replaceValue4 pointer value options(*string : *nopass);                                                         8000041
000042+    replaceValue5 pointer value options(*string : *nopass);                                                         8000042
000043+    replaceValue6 pointer value options(*string : *nopass);                                                         8000043
000044+    replaceValue7 pointer value options(*string : *nopass);                                                         8000044
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     37
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000045+end-pr;                                                                                                             8000045
000046+                                                                                                                    8000046
000047+dcl-pr message_escape extproc(*CWIDEN : *dclcase);                                                                  8000047
000048+    message pointer value options(*string);                                                                         8000048
000049+    replaceValue1 pointer value options(*string : *nopass);                                                         8000049
000050+    replaceValue2 pointer value options(*string : *nopass);                                                         8000050
000051+    replaceValue3 pointer value options(*string : *nopass);                                                         8000051
000052+    replaceValue4 pointer value options(*string : *nopass);                                                         8000052
000053+    replaceValue5 pointer value options(*string : *nopass);                                                         8000053
000054+    replaceValue6 pointer value options(*string : *nopass);                                                         8000054
000055+    replaceValue7 pointer value options(*string : *nopass);                                                         8000055
000056+end-pr;                                                                                                             8000056
000057+                                                                                                                    8000057
000058+/endif                                                                                                              8000058
000012 /include 'simpleList.rpginc'                                                                                         000012
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  simpleLis+                                                   *                     9
        * External name  . . . . . . :  ext/headers/simpleList.rpginc                                *                     9
        * Last change  . . . . . . . :  23-05-23  11:26:39                                           *                     9
        *--------------------------------------------------------------------------------------------*
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000001+**FREE                                                                                                              9000001
000002+                                                                                                                    9000002
000003+/if not defined (SIMPLELIST)                                                                                        9000003
000004+/define SIMPLELIST                                                                                                  9000004
000005+                                                                                                                    9000005
000006+/include 'varchar.rpginc'                                                                                           9000006
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  varchar.r+                                                   *                    10
        * External name  . . . . . . :  ext/headers/varchar.rpginc                                   *                    10
        * Last change  . . . . . . . :  23-05-23  11:26:40                                           *                    10
        *--------------------------------------------------------------------------------------------*
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     38
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000001+**FREE                                                                                                             10000001
000002+                                                                                                                   10000002
000003+/if not defined (VARCHAR)                                                                                          10000003
000004+/define VARCHAR                                                                                                    10000004
000005+                                                                                                                   10000005
000006+dcl-ds LVARPUCHAR_t qualified template;                                                                            10000006
000007+    length uns(10);                                                                                                10000007
000008+    string pointer;                                                                                                10000008
000009+end-ds;                                                                                                            10000009
000010+                                                                                                                   10000010
000011+dcl-ds PLVARCHAR_t qualified template;                                                                             10000011
000012+    length int(10);                                                                                                10000012
000013+    string char(1048576);                                                                                          10000013
000014+end-ds;                                                                                                            10000014
000015+                                                                                                                   10000015
000016+dcl-ds VARCHAR_t qualified template;                                                                               10000016
000017+    length int(5);                                                                                                 10000017
000018+    string char(32767);                                                                                            10000018
000019+end-ds;                                                                                                            10000019
000020+                                                                                                                   10000020
000021+dcl-pr vc2str  pointer extproc(*CWIDEN:'vc2str');                                                                  10000021
000022+    input_varchar varchar(32760:2) options(*varsize);                                                              10000022
000023+end-pr;                                                                                                            10000023
000024+                                                                                                                   10000024
000025+                                                                                                                   10000025
000026+/endif                                                                                                             10000026
000007+                                                                                                                    9000007
000008+                                                                                                                    9000008
000009+dcl-ds SLISTNODE_t qualified template;                                                                              9000009
000010+   pNext pointer; // pointer of type SLISTNODE_t                                                                    9000010
000011+   payLoadLength int(10);                                                                                           9000011
000012+   payloadData pointer;                                                                                             9000012
000013+end-ds;                                                                                                             9000013
000014+                                                                                                                    9000014
000015+dcl-ds SLIST_t qualified template;                                                                                  9000015
000016+   pHead pointer;                                                                                                   9000016
000017+   pTail pointer;                                                                                                   9000017
000018+   length int(10);                                                                                                  9000018
000019+end-ds;                                                                                                             9000019
000020+                                                                                                                    9000020
000021+dcl-ds SLISTITERATOR_t qualified align(*full) template;                                                             9000021
000022+   pThis pointer; // pointer of type SLISTNODE_t                                                                    9000022
000023+   pNext pointer; // pointer of type SLISTNODE_t                                                                    9000023
000024+   hasNext ind;                                                                                                     9000024
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     39
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000025+end-ds;                                                                                                             9000025
000026+                                                                                                                    9000026
000027+dcl-ds SLISTKEYVAL_t qualified template;                                                                            9000027
000028+   key likeds(LVARPUCHAR_t);                                                                                        9000028
000029+   value likeds(LVARPUCHAR_t);                                                                                      9000029
000030+end-ds;                                                                                                             9000030
000031+                                                                                                                    9000031
000032+dcl-pr sList_new pointer extproc('sList_new') end-pr;                                                               9000032
000033+                                                                                                                    9000033
000034+dcl-pr sList_free extproc('sList_free');                                                                            9000034
000035+   sList pointer value; // simpleList.c: PSLIST                                                                     9000035
000036+end-pr;                                                                                                             9000036
000037+                                                                                                                    9000037
000038+dcl-pr sList_push pointer extproc(*CWIDEN: 'sList_push'); // SLISTNODE_t                                            9000038
000039+   sList pointer value; // PSLIST                                                                                   9000039
000040+   len uns(10) value;                                                                                               9000040
000041+   data pointer options(*string) value;                                                                             9000041
000042+   head ind value;                                                                                                  9000042
000043+end-pr;                                                                                                             9000043
000044+                                                                                                                    9000044
000045+dcl-pr sList_pushLVPC pointer extproc('sList_pushLVPC');                                                            9000045
000046+   sList pointer value; // PSLIST                                                                                   9000046
000047+   key likeds(LVARPUCHAR_t) const;                                                                                  9000047
000048+   value likeds(LVARPUCHAR_t) const;                                                                                9000048
000049+end-pr;                                                                                                             9000049
000050+                                                                                                                    9000050
000051+dcl-pr sList_lookupLVPC varchar(1048576:4) rtnparm extproc('sList_lookupLVPC');                                     9000051
000052+   sList pointer value; // PSLIST                                                                                   9000052
000053+   searchTerm varchar(1048576:4) const;                                                                             9000053
000054+end-pr;                                                                                                             9000054
000055+                                                                                                                    9000055
000056+dcl-pr sList_setIterator likeds(SLISTITERATOR_t) extproc('sList_setIterator');                                      9000056
000057+   slist pointer value; // PSLIST                                                                                   9000057
000058+end-pr;                                                                                                             9000058
000059+                                                                                                                    9000059
000060+dcl-pr sList_foreach ind extproc('sList_foreach');                                                                  9000060
000061+   iterator likeds(SLISTITERATOR_t) const;                                                                          9000061
000062+end-pr;                                                                                                             9000062
000063+                                                                                                                    9000063
000064+/endif                                                                                                              9000064
000013 /include 'sockets.rpginc'                                                                                            000013
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     40
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  sockets.r+                                                   *                    11
        * External name  . . . . . . :  headers/sockets.rpginc                                       *                    11
        * Last change  . . . . . . . :  27-11-23  10:23:56                                           *                    11
        *--------------------------------------------------------------------------------------------*
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000001+**FREE                                                                                                             11000001
000002+                                                                                                                   11000002
000003+/if not defined (ILEVATOR_SOCKETS)                                                                                 11000003
000004+/define ILEVATOR_SOCKETS                                                                                           11000004
000005+                                                                                                                   11000005
000006+dcl-c PLAIN_SOCKET 0;                                                                                              11000006
000007+dcl-c SECURE_HANDSHAKE_IMEDIATE 1;                                                                                 11000007
000008+dcl-c SECURE_HANDSHAKE_LATER 2;                                                                                    11000008
000009+                                                                                                                   11000009
000010+dcl-pr sockets_setSSL extproc(*CWIDEN:'sockets_setSSL');                                                           11000010
000011+    sockets pointer value;                                                                                         11000011
000012+    useSSL  int(3)  value;                                                                                         11000012
000013+    certificateFile pointer options(*string) value;                                                                11000013
000014+    keyringPassword pointer options(*string) value;                                                                11000014
000015+end-pr;                                                                                                            11000015
000016+                                                                                                                   11000016
000017+dcl-pr sockets_new pointer extproc(*CWIDEN:'sockets_new') end-pr;                                                  11000017
000018+                                                                                                                   11000018
000019+dcl-pr sockets_free extproc(*CWIDEN:'sockets_free');                                                               11000019
000020+    sockets pointer value;                                                                                         11000020
000021+end-pr;                                                                                                            11000021
000022+                                                                                                                   11000022
000023+dcl-pr sockets_connect int(3) extproc(*CWIDEN:'sockets_connect');                                                  11000023
000024+    sockets  pointer value;                                                                                        11000024
000025+    server pointer options(*string) value;                                                                         11000025
000026+    port    int(10) value;                                                                                         11000026
000027+    timeout int(10) value;                                                                                         11000027
000028+end-pr;                                                                                                            11000028
000029+                                                                                                                   11000029
000030+dcl-pr sockets_send int(10) extproc(*dclcase);                                                                     11000030
000031+    sockets pointer value;                                                                                         11000031
000032+    buffer pointer value;                                                                                          11000032
000033+    length int(10) value;                                                                                          11000033
000034+end-pr;                                                                                                            11000034
000035+                                                                                                                   11000035
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     41
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000036+dcl-pr sockets_setTrace extproc(*CWIDEN:'sockets_setTrace');                                                       11000036
000037+    sockets  pointer value;                                                                                        11000037
000038+    traceFile  pointer options(*string) value;                                                                     11000038
000039+end-pr;                                                                                                            11000039
000040+                                                                                                                   11000040
000041+/endif                                                                                                             11000041
000014 /include 'teraspace.rpginc'                                                                                          000014
Seq    <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Statement
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Number
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  teraspace+                                                   *                    12
        * External name  . . . . . . :  ext/headers/teraspace.rpginc                                 *                    12
        * Last change  . . . . . . . :  23-05-23  11:26:40                                           *                    12
        *--------------------------------------------------------------------------------------------*
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000001+**FREE                                                                                                             12000001
000002+                                                                                                                   12000002
000003+/if not defined (TERASPACE_H)                                                                                      12000003
000004+/define TERASPACE_H                                                                                                12000004
000005+                                                                                                                   12000005
000006+dcl-pr teraspace_alloc pointer extproc(*dclcase);                                                                  12000006
000007+  length uns(20) value;                                                                                            12000007
000008+end-pr;                                                                                                            12000008
000009+                                                                                                                   12000009
000010+dcl-pr teraspace_calloc pointer extproc(*dclcase);                                                                 12000010
000011+  length uns(20) value;                                                                                            12000011
000012+end-pr;                                                                                                            12000012
000013+                                                                                                                   12000013
000014+dcl-pr teraspace_free extproc(*dclcase);                                                                           12000014
000015+  p pointer;                                                                                                       12000015
000016+end-pr;                                                                                                            12000016
000017+                                                                                                                   12000017
000018+dcl-pr teraspace_strdup pointer extproc(*dclcase);                                                                 12000018
000019+  p pointer options(*string) value;                                                                                12000019
000020+end-pr;                                                                                                            12000020
000021+                                                                                                                   12000021
000022+dcl-pr teraspace_strTrimDup pointer extproc(*dclcase);                                                             12000022
000023+  p pointer options(*string) value;                                                                                12000023
000024+end-pr;                                                                                                            12000024
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     42
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000025+                                                                                                                   12000025
000026+dcl-pr teraspace_realloc pointer extproc(*dclcase);                                                                12000026
000027+  p pointer;                                                                                                       12000027
000028+  length uns(20) value;                                                                                            12000028
000029+end-pr;                                                                                                            12000029
000030+                                                                                                                   12000030
000031+dcl-pr teraspace_size uns(20) extproc(*dclcase);                                                                   12000031
000032+  p pointer;                                                                                                       12000032
000033+end-pr;                                                                                                            12000033
000034+                                                                                                                   12000034
000035+dcl-pr teraspace_stat extproc(*dclcase) end-pr;                                                                    12000035
000036+                                                                                                                   12000036
000037+dcl-pr teraspace_leak ind extproc(*dclcase) end-pr;                                                                12000037
000038+                                                                                                                   12000038
000039+dcl-pr teraspace_use uns(20) extproc(*dclcase) end-pr;                                                             12000039
000040+                                                                                                                   12000040
000041+/endif                                                                                                             12000041
000015                                                                                                                      000015
000016                                                                                                                      000016
000017 dcl-pr fopen pointer extproc('_C_IFS_fopen');                                                                        000017
000018     filename pointer value options(*string);                                                                         000018
000019     mode pointer value options(*string);                                                                             000019
000020 end-pr;                                                                                                              000020
000021                                                                                                                      000021
000022 dcl-pr fclose int(10) extproc('_C_IFS_fclose');                                                                      000022
000023     stream pointer value;                                                                                            000023
000024 end-pr;                                                                                                              000024
000025                                                                                                                      000025
000026 dcl-pr unlink int(10) extproc(*dclcase);                                                                             000026
000027     path pointer value options(*string);                                                                             000027
000028 end-pr;                                                                                                              000028
000029                                                                                                                      000029
000030 dcl-pr access int(10) extproc('access');                                                                             000030
000031     path pointer value options(*string);                                                                             000031
000032     mode int(10) value;                                                                                              000032
000033 end-pr;                                                                                                              000033
000034                                                                                                                      000034
000035                                                                                                                      000035
000036                                                                                                                      000036
000037 //                                                                                                                   000037
000038 // Access mode flags for access() and accessx()                                                                      000038
000039 //                                                                                                                   000039
000040 // F_OK = File Exists                                                                                                000040
000041 // R_OK = Read Access                                                                                                000041
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     43
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000042 // W_OK = Write Access                                                                                               000042
000043 // X_OK = Execute or Search                                                                                          000043
000044 //                                                                                                                   000044
000045 dcl-c F_OK 0;                                                                                                        000045
000046 dcl-c R_OK 4;                                                                                                        000046
000047 dcl-c W_OK 2;                                                                                                        000047
000048 dcl-c X_OK 1;                                                                                                        000048
000049                                                                                                                      000049
000050 dcl-s ENUM int(3) template;                                                                                          000050
000051 dcl-c FALSE 0;                                                                                                       000051
000052 dcl-c TRUE 1;                                                                                                        000052
000053 dcl-c NULL x'00';                                                                                                    000053
000054                                                                                                                      000054
000055 dcl-s listedHttpStatusCodes int(5) dim(41) ctdata;                                                                   000055
000056                                                                                                                      000056
000057 dcl-c DEFAULT_TIMEOUT 30.000; // 30 seconds                                                                          000057
000058 dcl-c DEFAULT_RETRIES 2;                                                                                             000058
000059 dcl-c NO_RETRIES 0;                                                                                                  000059
000060                                                                                                                      000060
000061 dcl-s UPPER char(26) ccsid(*utf8) inz('ABCDEFGHIJKLMNOPQRSTUVWXYZ');                                                 000061
000062 dcl-s LOWER char(26) ccsid(*utf8) inz('abcdefghijklmnopqrstuvwxyz');                                                 000062
000063                                                                                                                      000063
000064 dcl-c ILEVATOR_VERSION '0.1.0';                                                                                      000064
000065                                                                                                                      000065
000066                                                                                                                      000066
000067 dcl-proc iv_newHttpClient export;                                                                                    000067
000068     dcl-pi *n pointer end-pi;                                                                                        000068
000069                                                                                                                      000069
000070     dcl-ds client likeds(ilevator_t) based(pClient);                                                                 000070
000071                                                                                                                      000071
000072     pClient = teraspace_alloc(%size(ilevator_t));                                                                    000072
000073     clear client;                                                                                                    000073
000074                                                                                                                      000074
000075     client.method = *NULL;                                                                                           000075
000076     client.url = *NULL;                                                                                              000076
000077                                                                                                                      000077
000078     client.buffer = teraspace_alloc(IV_BUFFER_SIZE);                                                                 000078
000079     client.bufferSize = IV_BUFFER_SIZE;                                                                              000079
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     44
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000080                                                                                                                      000080
000081     client.sockets =  sockets_new();                                                                                 000081
000082     client.headerList = sList_new();                                                                                 000082
000083     client.timeout = DEFAULT_TIMEOUT;                                                                                000083
000084     client.retries = DEFAULT_RETRIES;                                                                                000084
000085                                                                                                                      000085
000086     client.server = NULL;                                                                                            000086
000087     client.port = 0;                                                                                                 000087
000088     client.resource = NULL;                                                                                          000088
000089     client.host = NULL;                                                                                              000089
000090     client.user = NULL;                                                                                              000090
000091     client.password = NULL;                                                                                          000091
000092     client.location = NULL;                                                                                          000092
000093     client.message = NULL;                                                                                           000093
000094     client.requestHeaderList = *NULL;                                                                                000094
000095                                                                                                                      000095
000096     iv_addHeader(pClient : 'User-Agent' : 'ILEvator for IBM i/' + ILEVATOR_VERSION);                                 000096
000097                                                                                                                      000097
000098     loadConfigFromEnvVar(pClient);                                                                                   000098
000099                                                                                                                      000099
000100     return pClient;                                                                                                  000100
000101 end-proc;                                                                                                            000101
000102                                                                                                                      000102
000103                                                                                                                      000103
000104 dcl-proc iv_free export;                                                                                             000104
000105     dcl-pi *n;                                                                                                       000105
000106       pClient pointer value;                                                                                         000106
000107     end-pi;                                                                                                          000107
000108                                                                                                                      000108
000109     dcl-ds client likeds(ilevator_t) based(pClient);                                                                 000109
000110                                                                                                                      000110
000111     if (pClient = *null);                                                                            B01             000111
000112       return;                                                                                         01             000112
000113     endif;                                                                                           E01             000113
000114                                                                                                                      000114
000115     iv_freeList(client.headerList);                                                                                  000115
000116                                                                                                                      000116
000117     teraspace_free(client.method);                                                                                   000117
000118     teraspace_free(client.url);                                                                                      000118
000119     sockets_free(client.sockets);                                                                                    000119
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     45
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000120     sList_free(client.headerList);                                                                                   000120
000121     teraspace_free(client.authProvider);                                                                             000121
000122     teraspace_free(client.buffer);                                                                                   000122
000123     iv_free (client.proxyTunnel);                                                                                    000123
000124     teraspace_free(pClient);                                                                                         000124
000125 end-proc;                                                                                                            000125
000126                                                                                                                      000126
000127                                                                                                                      000127
000128 dcl-proc iv_freeList export;                                                                                         000128
000129   dcl-pi *n;                                                                                                         000129
000130     list pointer;                                                                                                    000130
000131   end-pi;                                                                                                            000131
000132                                                                                                                      000132
000133   dcl-ds iterator likeds(SLISTITERATOR_t) inz;                                                                       000133
000134   dcl-ds node likeds(SLISTNODE_t) based(iterator.pThis);                                                             000134
000135   dcl-ds payload likeds(SLISTKEYVAL_t) based(node.payloadData);                                                      000135
000136                                                                                                                      000136
000137   iterator = sList_setIterator(list);                                                                                000137
000138                                                                                                                      000138
000139   dow (sList_foreach(iterator));                                                                     B01             000139
000140     teraspace_free(payload.key.string);                                                               01             000140
000141     teraspace_free(payload.value.string);                                                             01             000141
000142   enddo;                                                                                             E01             000142
000143                                                                                                                      000143
000144   sList_free(list);                                                                                                  000144
000145 end-proc;                                                                                                            000145
000146                                                                                                                      000146
000147                                                                                                                      000147
000148 dcl-proc iv_setResponseHeaderBuffer export;                                                                          000148
000149     dcl-pi *n;                                                                                                       000149
000150         pClient pointer value;                                                                                       000150
000151         buffer pointer value;                                                                                        000151
000152         bufferSize int(10) value;                                                                                    000152
000153         bufferType int(5) value;                                                                                     000153
000154         bufferCcsid int(10) value;                                                                                   000154
000155     end-pi;                                                                                                          000155
000156                                                                                                                      000156
000157     dcl-ds client likeds(ilevator_t) based(pClient);                                                                 000157
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     46
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000158                                                                                                                      000158
000159     iv_anychar_set(                                                                                                  000159
000160         %addr( client.responseHeaderBuffer)  :                                                                       000160
000161         buffer :                                                                                                     000161
000162         bufferSize :                                                                                                 000162
000163         bufferType :                                                                                                 000163
000164         bufferCcsid                                                                                                  000164
000165     );                                                                                                               000165
000166 end-proc;                                                                                                            000166
000167                                                                                                                      000167
000168                                                                                                                      000168
000169 dcl-proc iv_setResponseDataBuffer export;                                                                            000169
000170     dcl-pi *n;                                                                                                       000170
000171         pClient pointer value;                                                                                       000171
000172         buffer pointer value;                                                                                        000172
000173         bufferSize int(10) value;                                                                                    000173
000174         bufferType int(5) value;                                                                                     000174
000175         bufferCcsid int(10) value;                                                                                   000175
000176     end-pi;                                                                                                          000176
000177                                                                                                                      000177
000178     dcl-ds client likeds(ilevator_t) based(pClient);                                                                 000178
000179                                                                                                                      000179
000180     iv_anychar_set(                                                                                                  000180
000181         %addr(client.responseDataBuffer) :                                                                           000181
000182         buffer :                                                                                                     000182
000183         bufferSize :                                                                                                 000183
000184         bufferType :                                                                                                 000184
000185         bufferCcsid                                                                                                  000185
000186     );                                                                                                               000186
000187 end-proc;                                                                                                            000187
000188                                                                                                                      000188
000189                                                                                                                      000189
000190 dcl-proc iv_setRequestDataBuffer export;                                                                             000190
000191     dcl-pi *n;                                                                                                       000191
000192         pClient pointer value;                                                                                       000192
000193         buffer pointer value;                                                                                        000193
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     47
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000194         bufferSize int(10) value;                                                                                    000194
000195         bufferType int(5) value;                                                                                     000195
000196         bufferCcsid int(10) value;                                                                                   000196
000197     end-pi;                                                                                                          000197
000198                                                                                                                      000198
000199     dcl-ds client likeds(ilevator_t) based(pClient);                                                                 000199
000200                                                                                                                      000200
000201     iv_anychar_set(                                                                                                  000201
000202         %addr(client.requestDataBuffer) :                                                                            000202
000203         buffer :                                                                                                     000203
000204         bufferSize :                                                                                                 000204
000205         bufferType :                                                                                                 000205
000206         bufferCcsid                                                                                                  000206
000207     );                                                                                                               000207
000208 end-proc;                                                                                                            000208
000209                                                                                                                      000209
000210 dcl-proc iv_setProxyTunnel  export;                                                                                  000210
000211     dcl-pi *n;                                                                                                       000211
000212         pClient pointer value;                                                                                       000212
000213         url pointer options(*string) value;                                                                          000213
000214     end-pi;                                                                                                          000214
000215                                                                                                                      000215
000216     dcl-ds client likeds(ilevator_t) based(pClient);                                                                 000216
000217     dcl-ds proxy  likeds(ilevator_t) based(client.proxyTunnel);                                                      000217
000218     client.proxyTunnel = iv_newHttpClient();                                                                         000218
000219     proxy.url    = teraspace_strTrimDup(url);                                                                        000219
000220                                                                                                                      000220
000221 end-proc;                                                                                                            000221
000222                                                                                                                      000222
000223                                                                                                                      000223
000224 dcl-proc iv_setResponseFile export;                                                                                  000224
000225     dcl-pi *n;                                                                                                       000225
000226         pClient       pointer value;                                                                                 000226
000227         fileName      pointer options(*string) value;                                                                000227
000228         fileCcsid     int(10)  options(*nopass) value;                                                               000228
000229     end-pi;                                                                                                          000229
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     48
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000230                                                                                                                      000230
000231     dcl-ds client likeds(ilevator_t) based(pClient);                                                                 000231
000232     dcl-s c_errno int(10) based(pErrno);                                                                             000232
000233     dcl-s mode char(32);                                                                                             000233
000234                                                                                                                      000234
000235     if (%parms() = 2);                                                                               B01             000235
000236         mode = 'wb,o_ccsid=1252';                                                                     01             000236
000237     else;                                                                                            X01             000237
000238         mode = 'wb,o_ccsid=' + %char(fileCcsid);                                                      01             000238
000239     endif;                                                                                           E01             000239
000240                                                                                                                      000240
000241  unlink(fileName);                                                                                                   000241
000242                                                                                                                      000242
000243  client.responseDataFile = fopen(fileName : mode);                                                                   000243
000244  if (client.responseDataFile = *null);                                                               B01             000244
000245      pErrno = errno();                                                                                01             000245
000246         message_info('Response output open failed: ' + %str(strerror(c_errno):1000));                 01             000246
000247  endif;                                                                                              E01             000247
000248 end-proc;                                                                                                            000248
000249                                                                                                                      000249
000250                                                                                                                      000250
000251 dcl-proc iv_setCommTrace export;                                                                                     000251
000252     dcl-pi *n;                                                                                                       000252
000253         pClient         pointer value;                                                                               000253
000254         traceFileName   pointer options(*string) value;                                                              000254
000255     end-pi;                                                                                                          000255
000256                                                                                                                      000256
000257     dcl-ds client likeds(ilevator_t) based(pClient);                                                                 000257
000258                                                                                                                      000258
000259     sockets_setTrace(client.sockets : traceFileName);                                                                000259
000260                                                                                                                      000260
000261 end-proc;                                                                                                            000261
000262                                                                                                                      000262
000263 dcl-proc iv_execute export;                                                                                          000263
000264     dcl-pi *n ind;                                                                                                   000264
000265         pClient pointer value;                                                                                       000265
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     49
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000266         method pointer options(*string) value;                                                                       000266
000267         url pointer options(*string) value;                                                                          000267
000268         headers pointer options(*nopass) value;                                                                      000268
000269     end-pi;                                                                                                          000269
000270                                                                                                                      000270
000271     dcl-ds client likeds(ilevator_t) based(pClient);                                                                 000271
000272     dcl-s  apiStatus int(10) inz(IV_STATUS_RETRY);                                                                   000272
000273     dcl-s  try int(5);                                                                                               000273
000274     dcl-s  ok like(ENUM);                                                                                            000274
000275                                                                                                                      000275
000276     if (%parms() >= 4);                                                                              B01             000276
000277         client.requestHeaderList = headers;                                                           01             000277
000278     endif;                                                                                           E01             000278
000279                                                                                                                      000279
000280     if client.proxyTunnel <> *NULL;                                                                  B01             000280
000281         connect_using_proxy_tunnel (client );                                                         01             000281
000282     endif;                                                                                           E01             000282
000283                                                                                                                      000283
000284     client.method = teraspace_strTrimDup(method);                                                                    000284
000285     client.url    = teraspace_strTrimDup(url);                                                                       000285
000286                                                                                                                      000286
000287     parseUrl(pClient : url);                                                                                         000287
000288                                                                                                                      000288
000289     iv_debug('Port: %s' : %str(%addr(client.port):10) );                                                             000289
000290     iv_debug('Server: %s' : %str(%addr(client.server):200) );                                                        000290
000291     iv_debug('Host: %s' : %str(%addr(client.host):200) );                                                            000291
000292     iv_debug('Resource: %s' : %str(%addr(client.resource):200) );                                                    000292
000293                                                                                                                      000293
000294     for try = 0 to client.retries;                                                                   B01             000294
000295                                                                                                                      000295
000296         if client.proxyTunnel = *NULL;                                                               B02             000296
000297                                                                                                                      000297
000298             ok = sockets_connect(                                                                     02             000298
000299                 client.sockets :                                                                      02             000299
000300                 client.server :                                                                       02             000300
000301                 client.port :                                                                         02             000301
000302                 client.timeout * 1000 // from seconds to milliseconds                                 02             000302
000303             );                                                                                        02             000303
000304             if (ok = TRUE);                                                                          B03             000304
000305                 apiStatus = IV_STATUS_OK;                                                             03             000305
000306             else;                                                                                    X03             000306
000307                 apiStatus = IV_STATUS_ERROR;                                                          03             000307
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     50
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000308                 iter;                                                                                 03             000308
000309             endif;                                                                                   E03             000309
000310         endif;                                                                                       E02             000310
000311                                                                                                                      000311
000312         apiStatus = sendRequest(pClient);                                                             01             000312
000313         if (apiStatus = IV_STATUS_ERROR);                                                            B02             000313
000314             leave;                                                                                    02             000314
000315         endif;                                                                                       E02             000315
000316                                                                                                                      000316
000317         apiStatus = receiveHeader(pClient);                                                           01             000317
000318         if (apiStatus = IV_STATUS_ERROR);                                                            B02             000318
000319             leave;                                                                                    02             000319
000320         endif;                                                                                       E02             000320
000321         if (apiStatus = IV_STATUS_RETRY);                                                            B02             000321
000322             iter;                                                                                     02             000322
000323         endif;                                                                                       E02             000323
000324                                                                                                                      000324
000325         iv_debug('HTTP response status: %s' : %char(client.status));                                  01             000325
000326                                                                                                                      000326
000327         // Don't try to get data if it was a HEAD request - it is only the header                                    000327
000328         // or status 204 => no content                                                                               000328
000329         if (%str(client.method:10) = 'HEAD' or client.status = 204);                                 B02             000329
000330             // No content, don't read any longer                                                                     000330
000331             apiStatus = IV_STATUS_OK;                                                                 02             000331
000332         elseif (client.responseIsChunked);                                                           X02             000332
000333             apiStatus = iv_chunked_receive(pClient);                                                  02             000333
000334         else;                                                                                        X02             000334
000335             apiStatus = receiveData(pClient);                                                         02             000335
000336         endif;                                                                                       E02             000336
000337                                                                                                                      000337
000338         if (apiStatus = IV_STATUS_OK);                                                               B02             000338
000339             leave;                                                                                    02             000339
000340         endif;                                                                                       E02             000340
000341         if (apiStatus = IV_STATUS_ERROR);                                                            B02             000341
000342             leave;                                                                                    02             000342
000343         endif;                                                                                       E02             000343
000344         if (apiStatus = IV_STATUS_RETRY);                                                            B02             000344
000345             iter;                                                                                     02             000345
000346         endif;                                                                                       E02             000346
000347                                                                                                                      000347
000348     endfor;                                                                                          E01             000348
000349                                                                                                                      000349
000350     iv_anychar_finalize(%addr(client.responseHeaderBuffer));                                                         000350
000351     iv_anychar_finalize(%addr(client.responseDataBuffer));                                                           000351
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     51
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000352                                                                                                                      000352
000353     if (client.responseDataFile <> *null);                                                           B01             000353
000354         fclose(client.responseDataFile);                                                              01             000354
000355     endif;                                                                                           E01             000355
000356                                                                                                                      000356
000357     return (apiStatus = IV_STATUS_OK);                                                                               000357
000358 end-proc;                                                                                                            000358
000359                                                                                                                      000359
000360                                                                                                                      000360
000361 dcl-proc connect_using_proxy_tunnel ;                                                                                000361
000362                                                                                                                      000362
000363     dcl-pi *n ;                                                                                                      000363
000364         client likeds(ilevator_t);                                                                                   000364
000365     end-pi;                                                                                                          000365
000366     dcl-s  try int(5);                                                                                               000366
000367     dcl-s  ok like(ENUM);                                                                                            000367
000368                                                                                                                      000368
000369     dcl-s  apiStatus int(10) inz(IV_STATUS_RETRY);                                                                   000369
000370     dcl-s  pProxy  pointer;                                                                                          000370
000371     dcl-ds proxy   likeds(ilevator_t) based(pProxy);                                                                 000371
000372                                                                                                                      000372
000373     pProxy = client.proxyTunnel;                                                                                     000373
000374     proxy.method = teraspace_strTrimDup('CONNECT');                                                                  000374
000375                                                                                                                      000375
000376     parseUrl(pProxy : proxy.url);                                                                                    000376
000377                                                                                                                      000377
000378     for try = 0 to proxy.retries;                                                                    B01             000378
000379                                                                                                                      000379
000380         ok = sockets_connect(                                                                         01             000380
000381             proxy.sockets :                                                                           01             000381
000382             proxy.host :                                                                              01             000382
000383             proxy.port :                                                                              01             000383
000384             proxy.timeout * 1000 // from seconds to milliseconds                                      01             000384
000385         );                                                                                            01             000385
000386         if (ok = TRUE);                                                                              B02             000386
000387             apiStatus = IV_STATUS_OK;                                                                 02             000387
000388         else;                                                                                        X02             000388
000389             apiStatus = IV_STATUS_ERROR;                                                              02             000389
000390             iter;                                                                                     02             000390
000391         endif;                                                                                       E02             000391
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     52
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000392                                                                                                                      000392
000393         apiStatus = sendRequest(pProxy);                                                              01             000393
000394         if (apiStatus = IV_STATUS_ERROR);                                                            B02             000394
000395             leave;                                                                                    02             000395
000396         endif;                                                                                       E02             000396
000397                                                                                                                      000397
000398         apiStatus = receiveHeader(pProxy);                                                            01             000398
000399                                                                                                                      000399
000400         if (apiStatus = IV_STATUS_OK);                                                               B02             000400
000401             client.sockets = proxy.sockets;                                                           02             000401
000402             leave;                                                                                    02             000402
000403         endif;                                                                                       E02             000403
000404                                                                                                                      000404
000405         iv_debug('HTTP CONNECT proxy response status: %s' : %char(proxy.status));                     01             000405
000406                                                                                                                      000406
000407         if (apiStatus = IV_STATUS_ERROR);                                                            B02             000407
000408             leave;                                                                                    02             000408
000409         elseif (apiStatus = IV_STATUS_RETRY);                                                        X02             000409
000410             iter;                                                                                     02             000410
000411         endif;                                                                                       E02             000411
000412                                                                                                                      000412
000413     endfor;                                                                                          E01             000413
000414 end-proc;                                                                                                            000414
000415                                                                                                                      000415
000416                                                                                                                      000416
000417 dcl-proc iv_setCertificate export;                                                                                   000417
000418     dcl-pi *n ind;                                                                                                   000418
000419         pClient pointer value;                                                                                       000419
000420         certificateFile pointer options(*string) value;                                                              000420
000421         certificatePassword pointer options(*string : *nopass) value;                                                000421
000422     end-pi;                                                                                                          000422
000423                                                                                                                      000423
000424     dcl-ds client likeds(ilevator_t) based(pClient);                                                                 000424
000425     dcl-s c_errno int(10) based(pErrno);                                                                             000425
000426     dcl-s empty_str char(1) inz(x'00');                                                                              000426
000427                                                                                                                      000427
000428     if (0 <> access(certificateFile : R_OK));                                                        B01             000428
000429         pErrno = errno();                                                                             01             000429
000430         message_info('Certificate error: ' +                                                          01             000430
000431             %str(strerror(c_errno) : 1000) +                                                          01             000431
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     53
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000432             ' File: ' + %str(certificateFile : 1000)                                                  01             000432
000433         );                                                                                            01             000433
000434         return *off;                                                                                  01             000434
000435     endif;                                                                                           E01             000435
000436                                                                                                                      000436
000437     if (%parms < 3);                                                                                 B01             000437
000438         certificatePassword = %addr(empty_str);                                                       01             000438
000439     endif;                                                                                           E01             000439
000440                                                                                                                      000440
000441     sockets_setSSL(                                                                                                  000441
000442         client.sockets :                                                                                             000442
000443         SECURE_HANDSHAKE_IMEDIATE :                                                                                  000443
000444         certificateFile :                                                                                            000444
000445         certificatePassword                                                                                          000445
000446     );                                                                                                               000446
000447                                                                                                                      000447
000448     iv_debug('SSL enabled');                                                                                         000448
000449     iv_debug('Using certificate file ' + %str(certificateFile));                                                     000449
000450                                                                                                                      000450
000451     return *on;                                                                                                      000451
000452 end-proc;                                                                                                            000452
000453                                                                                                                      000453
000454                                                                                                                      000454
000455 dcl-proc iv_getStatus export;                                                                                        000455
000456     dcl-pi *n int(5);                                                                                                000456
000457         pClient pointer value;                                                                                       000457
000458     end-pi;                                                                                                          000458
000459                                                                                                                      000459
000460     dcl-ds client likeds(ilevator_t) based(pClient);                                                                 000460
000461                                                                                                                      000461
000462     return client.status;                                                                                            000462
000463 end-proc;                                                                                                            000463
000464                                                                                                                      000464
000465 dcl-proc iv_getErrorMessage export;                                                                                  000465
000466     dcl-pi *n varchar(256);                                                                                          000466
000467         pClient pointer value;                                                                                       000467
000468     end-pi;                                                                                                          000468
000469                                                                                                                      000469
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     54
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000470     dcl-ds client likeds(ilevator_t) based(pClient);                                                                 000470
000471                                                                                                                      000471
000472     return client.message;                                                                                           000472
000473 end-proc;                                                                                                            000473
000474                                                                                                                      000474
000475                                                                                                                      000475
000476 dcl-proc iv_setAuthProvider export;                                                                                  000476
000477     dcl-pi *n;                                                                                                       000477
000478         pClient pointer value;                                                                                       000478
000479         authProvider pointer value;                                                                                  000479
000480     end-pi;                                                                                                          000480
000481                                                                                                                      000481
000482     dcl-ds client likeds(ilevator_t) based(pClient);                                                                 000482
000483                                                                                                                      000483
000484     if (client.authProvider <> *null);                                                               B01             000484
000485         teraspace_free(client.authProvider);                                                          01             000485
000486     endif;                                                                                           E01             000486
000487                                                                                                                      000487
000488     client.authProvider = authProvider;                                                                              000488
000489 end-proc;                                                                                                            000489
000490                                                                                                                      000490
000491                                                                                                                      000491
000492 dcl-proc addHeader export;                                                                                           000492
000493     dcl-pi *n;                                                                                                       000493
000494         list pointer value;                                                                                          000494
000495         headerName varchar(IV_HEADER_NAME_SIZE:2) ccsid(*utf8) value;                                                000495
000496         headerValue varchar(IV_HEADER_VALUE_SIZE:2) ccsid(*utf8) value;                                              000496
000497     end-pi;                                                                                                          000497
000498                                                                                                                      000498
000499     dcl-s lowerName varchar(IV_HEADER_NAME_SIZE:2) ccsid(*utf8);                                                     000499
000500     dcl-ds listKey likeds(LVARPUCHAR_t);                                                                             000500
000501     dcl-ds listValue likeds(LVARPUCHAR_t);                                                                           000501
000502                                                                                                                      000502
000503     if (headerName = *blank);                                                                        B01             000503
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     55
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000504       return;                                                                                         01             000504
000505     endif;                                                                                           E01             000505
000506                                                                                                                      000506
000507     // TODO use OS API for proper conversion                                                                         000507
000508     lowerName = %xlate(UPPER : LOWER : headerName);                                                                  000508
000509                                                                                                                      000509
000510     listKey.length = %len(lowerName);                                                                                000510
000511     listKey.string = teraspace_alloc(listKey.length + 1);                                                            000511
000512     %str(listKey.string : listKey.length + 1) = lowerName;                                                           000512
000513                                                                                                                      000513
000514     listValue.length = %len(headerValue);                                                                            000514
000515     listValue.string = teraspace_alloc(listValue.length + 1);                                                        000515
000516     %str(listValue.string : listValue.length + 1) = headerValue;                                                     000516
000517                                                                                                                      000517
000518     sList_pushLVPC(list : listKey : listValue);                                                                      000518
000519 end-proc;                                                                                                            000519
000520                                                                                                                      000520
000521                                                                                                                      000521
000522 dcl-proc iv_addHeader export;                                                                                        000522
000523     dcl-pi *n;                                                                                                       000523
000524         pClient pointer value;                                                                                       000524
000525         headerName varchar(IV_HEADER_NAME_SIZE:2) ccsid(*utf8) value;                                                000525
000526         headerValue varchar(IV_HEADER_VALUE_SIZE:2) ccsid(*utf8) value;                                              000526
000527     end-pi;                                                                                                          000527
000528                                                                                                                      000528
000529     dcl-ds client likeds(ilevator_t) based(pClient);                                                                 000529
000530     dcl-s lowerName varchar(IV_HEADER_NAME_SIZE:2) ccsid(*utf8);                                                     000530
000531     dcl-ds listKey likeds(LVARPUCHAR_t);                                                                             000531
000532     dcl-ds listValue likeds(LVARPUCHAR_t);                                                                           000532
000533                                                                                                                      000533
000534     if (headerName = *blank);                                                                        B01             000534
000535       return;                                                                                         01             000535
000536     endif;                                                                                           E01             000536
000537                                                                                                                      000537
000538     addHeader(client.headerList : headerName : headerValue);                                                         000538
000539 end-proc;                                                                                                            000539
000540                                                                                                                      000540
000541                                                                                                                      000541
000542 dcl-proc iv_addHeaders export;                                                                                       000542
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     56
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000543     dcl-pi *n;                                                                                                       000543
000544         pClient pointer value;                                                                                       000544
000545         headers pointer value;                                                                                       000545
000546     end-pi;                                                                                                          000546
000547                                                                                                                      000547
000548     dcl-ds client likeds(ilevator_t) based(pClient);                                                                 000548
000549     dcl-ds iterator likeds(SLISTITERATOR_t);                                                                         000549
000550     dcl-ds node likeds(SLISTNODE_t) based(iterator.pThis);                                                           000550
000551     dcl-ds nodePayload likeds(SLISTKEYVAL_t) based(node.payloadData);                                                000551
000552     dcl-s headerName varchar(IV_HEADER_NAME_SIZE) ccsid(*utf8);                                                      000552
000553     dcl-s headerValue varchar(IV_HEADER_VALUE_SIZE) ccsid(*utf8);                                                    000553
000554                                                                                                                      000554
000555     iterator = sList_setIterator(headers);                                                                           000555
000556     dow (sList_foreach(iterator));                                                                   B01             000556
000557         headerName = %str(nodePayload.key.string : nodePayload.key.length);                           01             000557
000558         headerValue = %str(nodePayload.value.string : nodePayload.value.length);                      01             000558
000559         addHeader(client.headerList : headerName : headerValue);                                      01             000559
000560     enddo;                                                                                           E01             000560
000561 end-proc;                                                                                                            000561
000562                                                                                                                      000562
000563                                                                                                                      000563
000564 dcl-proc iv_get export;                                                                                              000564
000565     dcl-pi *n varchar(IV_BUFFER_SIZE:4) ccsid(1208) rtnparm;                                                         000565
000566         url varchar(IV_URL_SIZE:2) value;                                                                            000566
000567         acceptMimeType varchar(IV_HEADER_VALUE_SIZE:2) ccsid(1208) value options(*nopass);                           000567
000568         headers pointer value options(*nopass);                                                                      000568
000569     end-pi;                                                                                                          000569
000570                                                                                                                      000570
000571     dcl-s client pointer;                                                                                            000571
000572     dcl-s returnBuffer varchar(IV_BUFFER_SIZE:4) ccsid(1208);                                                        000572
000573     dcl-s rc ind inz(*off);                                                                                          000573
000574                                                                                                                      000574
000575     client = iv_newHttpClient();                                                                                     000575
000576                                                                                                                      000576
000577     iv_setResponseDataBuffer(                                                                                        000577
000578         client :                                                                                                     000578
000579         %addr(returnBuffer) :                                                                                        000579
000580         IV_BUFFER_SIZE :                                                                                             000580
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     57
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000581         IV_VARCHAR4 :                                                                                                000581
000582         IV_CCSID_UTF8                                                                                                000582
000583     );                                                                                                               000583
000584                                                                                                                      000584
000585     if (%parms() >= 3);                                                                              B01             000585
000586         iv_addHeader(client : 'Accept' : acceptMimeType);                                             01             000586
000587     endif;                                                                                           E01             000587
000588                                                                                                                      000588
000589     if (%parms() >= 4);                                                                              B01             000589
000590         iv_addHeaders(client : headers);                                                              01             000590
000591     endif;                                                                                           E01             000591
000592                                                                                                                      000592
000593     rc = iv_execute(client : 'GET' : url);                                                                           000593
000594                                                                                                                      000594
000595     if (not isSuccessfulRequest(client));                                                            B01             000595
000596         sendStatusCodeEscapeMessage(client : returnBuffer);                                           01             000596
000597     endif;                                                                                           E01             000597
000598                                                                                                                      000598
000599     return returnBuffer;                                                                                             000599
000600                                                                                                                      000600
000601 on-exit;                                                                                                             000601
000602     iv_free(client);                                                                                                 000602
000603 end-proc;                                                                                                            000603
000604                                                                                                                      000604
000605                                                                                                                      000605
000606 dcl-proc sendStatusCodeEscapeMessage;                                                                                000606
000607     dcl-pi *n;                                                                                                       000607
000608         client pointer value;                                                                                        000608
000609         returnBuffer varchar(IV_BUFFER_SIZE:4) ccsid(1208);                                                          000609
000610     end-pi;                                                                                                          000610
000611                                                                                                                      000611
000612     sendStatusCodeMessage(client : returnBuffer : '*ESCAPE');                                                        000612
000613 end-proc;                                                                                                            000613
000614                                                                                                                      000614
000615                                                                                                                      000615
000616 dcl-proc sendStatusCodeInfoMessage;                                                                                  000616
000617     dcl-pi *n;                                                                                                       000617
000618         client pointer value;                                                                                        000618
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     58
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000619         returnBuffer varchar(IV_BUFFER_SIZE:4) ccsid(1208);                                                          000619
000620     end-pi;                                                                                                          000620
000621                                                                                                                      000621
000622     sendStatusCodeMessage(client : returnBuffer : '*INFO');                                                          000622
000623 end-proc;                                                                                                            000623
000624                                                                                                                      000624
000625                                                                                                                      000625
000626 dcl-proc sendStatusCodeMessage;                                                                                      000626
000627     dcl-pi *n;                                                                                                       000627
000628         client pointer value;                                                                                        000628
000629         returnBuffer varchar(IV_BUFFER_SIZE:4) ccsid(1208);                                                          000629
000630         messageType char(10) value;                                                                                  000630
000631     end-pi;                                                                                                          000631
000632                                                                                                                      000632
000633     dcl-s status int(5);                                                                                             000633
000634     dcl-s messageFile char(20) inz('ILEVATOR  *LIBL');                                                               000634
000635     dcl-s messageId char(7);                                                                                         000635
000636     dcl-s messageBody varchar(1000);                                                                                 000636
000637                                                                                                                      000637
000638     status = iv_getStatus(client);                                                                                   000638
000639                                                                                                                      000639
000640     if (%lookup(status : listedHttpStatusCodes) > 0);                                                B01             000640
000641         messageId = 'ILV0' + %char(status);                                                           01             000641
000642                                                                                                                      000642
000643         monitor;                                                                                     B02             000643
000644             messageBody = returnBuffer;                                                               02             000644
000645         on-error;                                                                                    X02             000645
000646             messageBody = 'The message body contains not convertible characters.';                    02             000646
000647         endmon;                                                                                      E02             000647
000648     else;                                                                                            X01             000648
000649         messageId = 'ILV0999';                                                                        01             000649
000650         messageBody = 'Unsupported HTTP status code ' + %char(status);                                01             000650
000651     endif;                                                                                           E01             000651
000652                                                                                                                      000652
000653     message_sendPastControlBoundary(messageId : messageFile : messageType : messageBody);                            000653
000654 end-proc;                                                                                                            000654
000655                                                                                                                      000655
000656                                                                                                                      000656
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     59
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000657 dcl-proc isSuccessfulRequest;                                                                                        000657
000658     dcl-pi *n ind;                                                                                                   000658
000659         client pointer value;                                                                                        000659
000660     end-pi;                                                                                                          000660
000661                                                                                                                      000661
000662     dcl-s status int(5);                                                                                             000662
000663                                                                                                                      000663
000664     status = iv_getStatus(client);                                                                                   000664
000665                                                                                                                      000665
000666     return status < 400;                                                                                             000666
000667 end-proc;                                                                                                            000667
000668                                                                                                                      000668
000669                                                                                                                      000669
000670 dcl-proc sendAndReceiveData export;                                                                                  000670
000671     dcl-pi *n varchar(IV_BUFFER_SIZE:4) ccsid(1208) rtnparm;                                                         000671
000672         method pointer options(*string) value;                                                                       000672
000673         url varchar(IV_URL_SIZE:2) value;                                                                            000673
000674         messageBody varchar(IV_BUFFER_SIZE:4) value ccsid(1208);                                                     000674
000675         contentType varchar(IV_HEADER_VALUE_SIZE:2) ccsid(1208) value options(*nopass);                              000675
000676         headers pointer value options(*nopass);                                                                      000676
000677     end-pi;                                                                                                          000677
000678                                                                                                                      000678
000679     dcl-s client pointer;                                                                                            000679
000680     dcl-ds clientDs likeds(ilevator_t) based(client);                                                                000680
000681     dcl-s returnBuffer varchar(IV_BUFFER_SIZE:4) ccsid(1208);                                                        000681
000682     dcl-s rc ind inz(*off);                                                                                          000682
000683     dcl-s messageBodyLength uns(10);                                                                                 000683
000684                                                                                                                      000684
000685     client = iv_newHttpClient();                                                                                     000685
000686                                                                                                                      000686
000687     iv_setResponseDataBuffer(                                                                                        000687
000688         client :                                                                                                     000688
000689         %addr(returnBuffer) :                                                                                        000689
000690         IV_BUFFER_SIZE :                                                                                             000690
000691         IV_VARCHAR4 :                                                                                                000691
000692         IV_CCSID_UTF8                                                                                                000692
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     60
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000693     );                                                                                                               000693
000694                                                                                                                      000694
000695     messageBodyLength = %len(messageBody);                                                                           000695
000696     if (messageBodyLength > 0);                                                                      B01             000696
000697         iv_setRequestDataBuffer(                                                                      01             000697
000698             client :                                                                                  01             000698
000699             %addr(messageBody) :                                                                      01             000699
000700             messageBodyLength :                                                                       01             000700
000701             IV_VARCHAR4 :                                                                             01             000701
000702             IV_CCSID_UTF8                                                                             01             000702
000703         );                                                                                            01             000703
000704         clientDs.requestDataBuffer.length = messageBodyLength;                                        01             000704
000705     endif;                                                                                           E01             000705
000706                                                                                                                      000706
000707     if (%parms() >= 5);                                                                              B01             000707
000708         iv_addHeader(client : 'Content-Type' : contentType);                                          01             000708
000709     endif;                                                                                           E01             000709
000710                                                                                                                      000710
000711     if (%parms() >= 6);                                                                              B01             000711
000712         iv_addHeaders(client : headers);                                                              01             000712
000713     endif;                                                                                           E01             000713
000714                                                                                                                      000714
000715     rc = iv_execute(client : method : url);                                                                          000715
000716                                                                                                                      000716
000717     if (not isSuccessfulRequest(client));                                                            B01             000717
000718         sendStatusCodeEscapeMessage(client : returnBuffer);                                           01             000718
000719     endif;                                                                                           E01             000719
000720                                                                                                                      000720
000721     return returnBuffer;                                                                                             000721
000722                                                                                                                      000722
000723     on-exit;                                                                                                         000723
000724         iv_free(client);                                                                                             000724
000725 end-proc;                                                                                                            000725
000726                                                                                                                      000726
000727                                                                                                                      000727
000728 dcl-proc iv_patch export;                                                                                            000728
000729     dcl-pi *n varchar(IV_BUFFER_SIZE:4) ccsid(1208) rtnparm;                                                         000729
000730         url varchar(IV_URL_SIZE:2) value;                                                                            000730
000731         messageBody varchar(IV_BUFFER_SIZE:4) const ccsid(1208);                                                     000731
000732         contentType varchar(IV_HEADER_VALUE_SIZE:2) ccsid(1208) value options(*nopass);                              000732
000733         headers pointer value options(*nopass);                                                                      000733
000734     end-pi;                                                                                                          000734
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     61
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000735                                                                                                                      000735
000736     if (%parms() = 3);                                                                               B01             000736
000737         return sendAndReceiveData('PATCH' : url : messageBody);                                       01             000737
000738     elseif (%parms() = 4);                                                                           X01             000738
000739         return sendAndReceiveData('PATCH' : url : messageBody : contentType);                         01             000739
000740     elseif (%parms() = 5);                                                                           X01             000740
000741         return sendAndReceiveData('PATCH' : url : messageBody : contentType : headers);               01             000741
000742     endif;                                                                                           E01             000742
000743 end-proc;                                                                                                            000743
000744                                                                                                                      000744
000745                                                                                                                      000745
000746 dcl-proc iv_post export;                                                                                             000746
000747     dcl-pi *n varchar(IV_BUFFER_SIZE:4) ccsid(1208) rtnparm;                                                         000747
000748         url varchar(IV_URL_SIZE:2) value;                                                                            000748
000749         messageBody varchar(IV_BUFFER_SIZE:4) const ccsid(1208);                                                     000749
000750         contentType varchar(IV_HEADER_VALUE_SIZE:2) ccsid(1208) value options(*nopass);                              000750
000751         headers pointer value options(*nopass);                                                                      000751
000752     end-pi;                                                                                                          000752
000753                                                                                                                      000753
000754     if (%parms() = 3);                                                                               B01             000754
000755         return sendAndReceiveData('POST' : url : messageBody);                                        01             000755
000756     elseif (%parms() = 4);                                                                           X01             000756
000757         return sendAndReceiveData('POST' : url : messageBody : contentType);                          01             000757
000758     elseif (%parms() = 5);                                                                           X01             000758
000759         return sendAndReceiveData('POST' : url : messageBody : contentType : headers);                01             000759
000760     endif;                                                                                           E01             000760
000761 end-proc;                                                                                                            000761
000762                                                                                                                      000762
000763                                                                                                                      000763
000764 dcl-proc iv_postForm export;                                                                                         000764
000765     dcl-pi *n varchar(IV_BUFFER_SIZE:4) ccsid(1208) rtnparm;                                                         000765
000766         url varchar(IV_URL_SIZE:2) value;                                                                            000766
000767         formData likeds(iv_lvarpuchar_t);                                                                            000767
000768         headers pointer value options(*nopass);                                                                      000768
000769     end-pi;                                                                                                          000769
000770                                                                                                                      000770
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     62
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000771     dcl-s client pointer;                                                                                            000771
000772     dcl-ds clientDs likeds(ilevator_t) based(client);                                                                000772
000773     dcl-s returnBuffer varchar(IV_BUFFER_SIZE:4) ccsid(1208);                                                        000773
000774     dcl-s rc ind inz(*off);                                                                                          000774
000775                                                                                                                      000775
000776     client = iv_newHttpClient();                                                                                     000776
000777                                                                                                                      000777
000778     iv_setResponseDataBuffer(                                                                                        000778
000779         client :                                                                                                     000779
000780         %addr(returnBuffer) :                                                                                        000780
000781         IV_BUFFER_SIZE :                                                                                             000781
000782         IV_VARCHAR4 :                                                                                                000782
000783         IV_CCSID_UTF8                                                                                                000783
000784     );                                                                                                               000784
000785                                                                                                                      000785
000786     if (formData.length > 0);                                                                        B01             000786
000787         iv_setRequestDataBuffer(                                                                      01             000787
000788             client :                                                                                  01             000788
000789             formData.string :                                                                         01             000789
000790             formData.length :                                                                         01             000790
000791             IV_BYTES :                                                                                01             000791
000792             0                                                                                         01             000792
000793         );                                                                                            01             000793
000794         clientDs.requestDataBuffer.length = formData.length;                                          01             000794
000795     endif;                                                                                           E01             000795
000796                                                                                                                      000796
000797     iv_addHeader(client : 'Content-Type' : 'application/x-www-form-urlencoded');                                     000797
000798                                                                                                                      000798
000799     if (%parms() >= 4);                                                                              B01             000799
000800         iv_addHeaders(client : headers);                                                              01             000800
000801     endif;                                                                                           E01             000801
000802                                                                                                                      000802
000803     rc = iv_execute(client : 'POST' : url);                                                                          000803
000804                                                                                                                      000804
000805     if (not isSuccessfulRequest(client));                                                            B01             000805
000806         sendStatusCodeEscapeMessage(client : returnBuffer);                                           01             000806
000807     endif;                                                                                           E01             000807
000808                                                                                                                      000808
000809     return returnBuffer;                                                                                             000809
000810                                                                                                                      000810
000811     on-exit;                                                                                                         000811
000812         iv_free(client);                                                                                             000812
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     63
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000813 end-proc;                                                                                                            000813
000814                                                                                                                      000814
000815                                                                                                                      000815
000816 dcl-proc iv_put export;                                                                                              000816
000817     dcl-pi *n varchar(IV_BUFFER_SIZE:4) ccsid(1208) rtnparm;                                                         000817
000818         url varchar(IV_URL_SIZE:2) value;                                                                            000818
000819         messageBody varchar(IV_BUFFER_SIZE:4) const ccsid(1208);                                                     000819
000820         contentType varchar(IV_HEADER_VALUE_SIZE:2) ccsid(1208) value options(*nopass);                              000820
000821         headers pointer value options(*nopass);                                                                      000821
000822     end-pi;                                                                                                          000822
000823                                                                                                                      000823
000824     if (%parms() = 3);                                                                               B01             000824
000825         return sendAndReceiveData('PUT' : url : messageBody);                                         01             000825
000826     elseif (%parms() = 4);                                                                           X01             000826
000827         return sendAndReceiveData('PUT' : url : messageBody : contentType);                           01             000827
000828     elseif (%parms() = 5);                                                                           X01             000828
000829         return sendAndReceiveData('PUT' : url : messageBody : contentType : headers);                 01             000829
000830     endif;                                                                                           E01             000830
000831 end-proc;                                                                                                            000831
000832                                                                                                                      000832
000833                                                                                                                      000833
000834 dcl-proc iv_setTimeout export;                                                                                       000834
000835     dcl-pi *n;                                                                                                       000835
000836         pClient pointer value;                                                                                       000836
000837         timeout packed(9:3) value;                                                                                   000837
000838     end-pi;                                                                                                          000838
000839                                                                                                                      000839
000840     dcl-ds client likeds(ilevator_t) based(pClient);                                                                 000840
000841                                                                                                                      000841
000842     client.timeout = timeout;                                                                                        000842
000843 end-proc;                                                                                                            000843
000844                                                                                                                      000844
000845                                                                                                                      000845
000846 dcl-proc iv_setRetries export;                                                                                       000846
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     64
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000847     dcl-pi *n;                                                                                                       000847
000848         pClient pointer value;                                                                                       000848
000849         retries int(5) value;                                                                                        000849
000850     end-pi;                                                                                                          000850
000851                                                                                                                      000851
000852     dcl-ds client likeds(ilevator_t) based(pClient);                                                                 000852
000853                                                                                                                      000853
000854     client.retries = retries;                                                                                        000854
000855 end-proc;                                                                                                            000855
000856                                                                                                                      000856
000857                                                                                                                      000857
000858 dcl-proc iv_delete export;                                                                                           000858
000859     dcl-pi *n varchar(IV_BUFFER_SIZE:4) ccsid(1208) rtnparm;                                                         000859
000860         url varchar(IV_URL_SIZE:2) value;                                                                            000860
000861         headers pointer value options(*nopass);                                                                      000861
000862     end-pi;                                                                                                          000862
000863                                                                                                                      000863
000864     dcl-s client pointer;                                                                                            000864
000865     dcl-s returnBuffer varchar(IV_BUFFER_SIZE:4) ccsid(1208);                                                        000865
000866     dcl-s rc ind inz(*off);                                                                                          000866
000867                                                                                                                      000867
000868     client = iv_newHttpClient();                                                                                     000868
000869                                                                                                                      000869
000870     iv_setResponseDataBuffer(                                                                                        000870
000871         client :                                                                                                     000871
000872         %addr(returnBuffer) :                                                                                        000872
000873         IV_BUFFER_SIZE :                                                                                             000873
000874         IV_VARCHAR4 :                                                                                                000874
000875         IV_CCSID_UTF8                                                                                                000875
000876     );                                                                                                               000876
000877                                                                                                                      000877
000878     if (%parms() >= 3);                                                                              B01             000878
000879         iv_addHeaders(client : headers);                                                              01             000879
000880     endif;                                                                                           E01             000880
000881                                                                                                                      000881
000882     rc = iv_execute(client : 'DELETE' : url);                                                                        000882
000883                                                                                                                      000883
000884     if (not isSuccessfulRequest(client));                                                            B01             000884
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     65
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000885         sendStatusCodeEscapeMessage(client : returnBuffer);                                           01             000885
000886     endif;                                                                                           E01             000886
000887                                                                                                                      000887
000888     return returnBuffer;                                                                                             000888
000889                                                                                                                      000889
000890 on-exit;                                                                                                             000890
000891     iv_free(client);                                                                                                 000891
000892 end-proc;                                                                                                            000892
000893                                                                                                                      000893
000894                                                                                                                      000894
000895 dcl-proc iv_head export;                                                                                             000895
000896     dcl-pi *n ind;                                                                                                   000896
000897         url varchar(IV_URL_SIZE:2) value;                                                                            000897
000898         headers pointer value options(*nopass);                                                                      000898
000899     end-pi;                                                                                                          000899
000900                                                                                                                      000900
000901     dcl-s client pointer;                                                                                            000901
000902     dcl-s returnBuffer varchar(IV_BUFFER_SIZE:4) ccsid(1208);                                                        000902
000903     dcl-s rc ind inz(*off);                                                                                          000903
000904                                                                                                                      000904
000905     client = iv_newHttpClient();                                                                                     000905
000906                                                                                                                      000906
000907     iv_setResponseDataBuffer(                                                                                        000907
000908         client :                                                                                                     000908
000909         %addr(returnBuffer) :                                                                                        000909
000910         IV_BUFFER_SIZE :                                                                                             000910
000911         IV_VARCHAR4 :                                                                                                000911
000912         IV_CCSID_UTF8                                                                                                000912
000913     );                                                                                                               000913
000914                                                                                                                      000914
000915     if (%parms() >= 2);                                                                              B01             000915
000916         iv_addHeaders(client : headers);                                                              01             000916
000917     endif;                                                                                           E01             000917
000918                                                                                                                      000918
000919     rc = iv_execute(client : 'HEAD' : url);                                                                          000919
000920                                                                                                                      000920
000921     if (not isSuccessfulRequest(client));                                                            B01             000921
000922         sendStatusCodeInfoMessage(client : returnBuffer);                                             01             000922
000923     endif;                                                                                           E01             000923
000924                                                                                                                      000924
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     66
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000925     return rc and isSuccessfulRequest(client);                                                                       000925
000926 on-exit;                                                                                                             000926
000927     iv_free(client);                                                                                                 000927
000928 end-proc;                                                                                                            000928
000929                                                                                                                      000929
000930                                                                                                                      000930
000931 dcl-proc iv_options export;                                                                                          000931
000932     dcl-pi *n varchar(IV_BUFFER_SIZE:4) ccsid(1208) rtnparm;                                                         000932
000933         url varchar(IV_URL_SIZE:2) value;                                                                            000933
000934         acceptMimeType varchar(IV_HEADER_VALUE_SIZE:2) ccsid(1208) value options(*nopass);                           000934
000935         headers pointer value options(*nopass);                                                                      000935
000936     end-pi;                                                                                                          000936
000937                                                                                                                      000937
000938     dcl-s client pointer;                                                                                            000938
000939     dcl-s returnBuffer varchar(IV_BUFFER_SIZE:4) ccsid(1208);                                                        000939
000940     dcl-s rc ind inz(*off);                                                                                          000940
000941                                                                                                                      000941
000942     client = iv_newHttpClient();                                                                                     000942
000943                                                                                                                      000943
000944     iv_setResponseDataBuffer(                                                                                        000944
000945         client :                                                                                                     000945
000946         %addr(returnBuffer) :                                                                                        000946
000947         IV_BUFFER_SIZE :                                                                                             000947
000948         IV_VARCHAR4 :                                                                                                000948
000949         IV_CCSID_UTF8                                                                                                000949
000950     );                                                                                                               000950
000951                                                                                                                      000951
000952     if (%parms() >= 3);                                                                              B01             000952
000953         iv_addHeader(client : 'Accept' : acceptMimeType);                                             01             000953
000954     endif;                                                                                           E01             000954
000955                                                                                                                      000955
000956     if (%parms() >= 4);                                                                              B01             000956
000957         iv_addHeaders(client : headers);                                                              01             000957
000958     endif;                                                                                           E01             000958
000959                                                                                                                      000959
000960     rc = iv_execute(client : 'OPTIONS' : url);                                                                       000960
000961                                                                                                                      000961
000962     if (not isSuccessfulRequest(client));                                                            B01             000962
000963         sendStatusCodeEscapeMessage(client : returnBuffer);                                           01             000963
000964     endif;                                                                                           E01             000964
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     67
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
000965                                                                                                                      000965
000966     return returnBuffer;                                                                                             000966
000967                                                                                                                      000967
000968 on-exit;                                                                                                             000968
000969     iv_free(client);                                                                                                 000969
000970 end-proc;                                                                                                            000970
000971                                                                                                                      000971
000972                                                                                                                      000972
000973 dcl-proc iv_buildList export;                                                                                        000973
000974     dcl-pi *n pointer;                                                                                               000974
000975         key1 varchar(IV_HEADER_NAME_SIZE) ccsid(*utf8) const options(*nopass);                                       000975
000976         value1 varchar(IV_HEADER_VALUE_SIZE) ccsid(*utf8) const options(*nopass);                                    000976
000977         key2 varchar(IV_HEADER_NAME_SIZE) ccsid(*utf8) const options(*nopass);                                       000977
000978         value2 varchar(IV_HEADER_VALUE_SIZE) ccsid(*utf8) const options(*nopass);                                    000978
000979         key3 varchar(IV_HEADER_NAME_SIZE) ccsid(*utf8) const options(*nopass);                                       000979
000980         value3 varchar(IV_HEADER_VALUE_SIZE) ccsid(*utf8) const options(*nopass);                                    000980
000981         key4 varchar(IV_HEADER_NAME_SIZE) ccsid(*utf8) const options(*nopass);                                       000981
000982         value4 varchar(IV_HEADER_VALUE_SIZE) ccsid(*utf8) const options(*nopass);                                    000982
000983         key5 varchar(IV_HEADER_NAME_SIZE) ccsid(*utf8) const options(*nopass);                                       000983
000984         value5 varchar(IV_HEADER_VALUE_SIZE) ccsid(*utf8) const options(*nopass);                                    000984
000985     end-pi;                                                                                                          000985
000986                                                                                                                      000986
000987     dcl-s list pointer;                                                                                              000987
000988                                                                                                                      000988
000989     list = sList_new();                                                                                              000989
000990                                                                                                                      000990
000991     if (%parms() >= 2);                                                                              B01             000991
000992        addHeader(list : key1 : value1);                                                               01             000992
000993     endif;                                                                                           E01             000993
000994     if (%parms() >= 4);                                                                              B01             000994
000995        addHeader(list : key2 : value2);                                                               01             000995
000996     endif;                                                                                           E01             000996
000997     if (%parms() >= 6);                                                                              B01             000997
000998        addHeader(list : key3 : value3);                                                               01             000998
000999     endif;                                                                                           E01             000999
001000     if (%parms() >= 8);                                                                              B01             001000
001001        addHeader(list : key4 : value4);                                                               01             001001
001002     endif;                                                                                           E01             001002
001003     if (%parms() >= 10);                                                                             B01             001003
001004        addHeader(list : key5 : value5);                                                               01             001004
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     68
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
001005     endif;                                                                                           E01             001005
001006                                                                                                                      001006
001007     return list;                                                                                                     001007
001008 end-proc;                                                                                                            001008
001009                                                                                                                      001009
001010                                                                                                                      001010
001011 dcl-proc iv_addHeaderToList export;                                                                                  001011
001012     dcl-pi *n;                                                                                                       001012
001013         list pointer value;                                                                                          001013
001014         headerKey varchar(IV_HEADER_NAME_SIZE) ccsid(*utf8) const;                                                   001014
001015         headerValue varchar(IV_HEADER_VALUE_SIZE) ccsid(*utf8) const;                                                001015
001016     end-pi;                                                                                                          001016
001017                                                                                                                      001017
001018     addHeader(list : headerKey : headerValue);                                                                       001018
001019 end-proc;                                                                                                            001019
001020                                                                                                                      001020
001021                                                                                                                      001021
001022 dcl-proc iv_addEntryToList export;                                                                                   001022
001023     dcl-pi *n;                                                                                                       001023
001024         list pointer value;                                                                                          001024
001025         key pointer value options(*string);                                                                          001025
001026         value pointer value options(*string);                                                                        001026
001027     end-pi;                                                                                                          001027
001028                                                                                                                      001028
001029     dcl-ds listKey likeds(LVARPUCHAR_t);                                                                             001029
001030     dcl-ds listValue likeds(LVARPUCHAR_t);                                                                           001030
001031                                                                                                                      001031
001032     if (strlen(key) = 0);                                                                            B01             001032
001033       return;                                                                                         01             001033
001034     endif;                                                                                           E01             001034
001035                                                                                                                      001035
001036     listKey.length = strlen(key);                                                                                    001036
001037     listKey.string = teraspace_alloc(listKey.length + 1);                                                            001037
001038     memcpy(listKey.string : key : listKey.length + 1);                                                               001038
001039                                                                                                                      001039
001040     listValue.length = strlen(value);                                                                                001040
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     69
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
001041     listValue.string = teraspace_alloc(listValue.length + 1);                                                        001041
001042     memcpy(listValue.string : value : listValue.length + 1);                                                         001042
001043                                                                                                                      001043
001044     sList_pushLVPC(list : listKey : listValue);                                                                      001044
001045 end-proc;                                                                                                            001045
001046                                                                                                                      001046
001047                                                                                                                      001047
001048 dcl-proc loadConfigFromEnvVar;                                                                                       001048
001049     dcl-pi *n;                                                                                                       001049
001050         client pointer const;                                                                                        001050
001051     end-pi;                                                                                                          001051
001052                                                                                                                      001052
001053     dcl-pr getenv pointer extproc('getenv');                                                                         001053
001054         *n pointer value options(*string : *trim);                                                                   001054
001055     end-pr;                                                                                                          001055
001056                                                                                                                      001056
001057     dcl-s certValue pointer;                                                                                         001057
001058     dcl-s passValue pointer;                                                                                         001058
001059                                                                                                                      001059
001060     certValue = getenv('ILEVATOR_CERTIFICATE');                                                                      001060
001061     passValue = getenv('ILEVATOR_CERTIFICATE_PASSWORD');                                                             001061
001062                                                                                                                      001062
001063     if (certValue <> *null and passValue <> *null);                                                  B01             001063
001064         iv_setCertificate(client : certValue : passValue);                                            01             001064
001065     elseif (certValue <> *null);                                                                     X01             001065
001066         iv_setCertificate(client : certValue);                                                        01             001066
001067     endif;                                                                                           E01             001067
001068 end-proc;                                                                                                            001068
001069                                                                                                                      001069
001070                                                                                                                      001070
001071 dcl-proc iv_setRequestHandler export;                                                                                001071
001072     dcl-pi *n;                                                                                                       001072
001073         p_client pointer value;                                                                                      001073
001074         handler pointer value;                                                                                       001074
001075     end-pi;                                                                                                          001075
001076                                                                                                                      001076
001077     dcl-ds client likeds(ilevator_t) based(p_client);                                                                001077
001078                                                                                                                      001078
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     70
Seq    <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Number
001079     client.requestHandler = handler;                                                                                 001079
001080 end-proc;                                                                                                            001080
001081                                                                                                                      001081
001082                                                                                                                      001082
       * * * * *   E N D   O F   S O U R C E   * * * * *
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     71
          A d d i t i o n a l   D i a g n o s t i c   M e s s a g e s
 Msg id  Sv   Statement    Message text
*RNF5409 00        000241  The prototyped call returns a value which is lost when
                           CALLP is used.
*RNF5409 00        000354  The prototyped call returns a value which is lost when
                           CALLP is used.
*RNF5409 00        000518  The prototyped call returns a value which is lost when
                           CALLP is used.
*RNF5409 00        001038  The prototyped call returns a value which is lost when
                           CALLP is used.
*RNF5409 00        001042  The prototyped call returns a value which is lost when
                           CALLP is used.
*RNF5409 00        001044  The prototyped call returns a value which is lost when
                           CALLP is used.
*RNF5409 00        001064  The prototyped call returns a value which is lost when
                           CALLP is used.
*RNF5409 00        001066  The prototyped call returns a value which is lost when
                           CALLP is used.
 * * * * *   E N D   O F   A D D I T I O N A L   D I A G N O S T I C   M E S S A G E S   * * * * *
                            / C o p y   M e m b e r s
Statement  Src  RPG name   <-------- External name -------> CCSID  <- Last change ->
Number     Id              Library    File       Member            Date     Time
    000005    1 api.rpginc headers/api.rpginc                1252  29-11-23 12:18:13
    000006    2 anychar.r+ headers/anychar.rpginc            1252  23-05-23 11:26:42
    000007    3 chunked.r+ headers/chunked.rpginc            1252  23-05-23 11:26:42
    000008    4 debug.rpg+ headers/debug.rpginc              1252  23-05-23 11:26:42
    000009    5 httpclien+ headers/httpclient.rpginc         1252  23-05-23 11:26:43
    000010    6 libc.rpgi+ ext/headers/libc.rpginc           1252  23-05-23 11:26:39
   6000003    7 QUSEC      QSYSINC    QRPGLESRC  QUSEC         37  17-02-19 10:02:41
    000011    8 message.r+ ext/headers/message.rpginc        1252  19-06-23 16:31:36
    000012    9 simpleLis+ ext/headers/simpleList.rpginc     1252  23-05-23 11:26:39
   9000006   10 varchar.r+ ext/headers/varchar.rpginc        1252  23-05-23 11:26:40
    000013   11 sockets.r+ headers/sockets.rpginc            1252  27-11-23 10:23:56
    000014   12 teraspace+ ext/headers/teraspace.rpginc      1252  23-05-23 11:26:40
         * * * * *   E N D   O F   / C O P Y   M E M B E R S   * * * * *
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     72
Seq    <---------------------- Data Records -------------------------------------------------------------->      Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10      Date   Number
                       C o m p i l e   T i m e   D a t a
001083 **CTDATA listedHttpStatusCodes                                                                                       001083
        *--------------------------------------------------------------------*
        * Array . . . : LISTEDHTTPSTATUSCODES                                *
        *--------------------------------------------------------------------*
001084   400                                                                                                                001084
001085   401                                                                                                                001085
001086   402                                                                                                                001086
001087   403                                                                                                                001087
001088   404                                                                                                                001088
001089   405                                                                                                                001089
001090   406                                                                                                                001090
001091   407                                                                                                                001091
001092   408                                                                                                                001092
001093   409                                                                                                                001093
001094   410                                                                                                                001094
001095   411                                                                                                                001095
001096   412                                                                                                                001096
001097   413                                                                                                                001097
001098   414                                                                                                                001098
001099   415                                                                                                                001099
001100   416                                                                                                                001100
001101   417                                                                                                                001101
001102   418                                                                                                                001102
001103   421                                                                                                                001103
001104   422                                                                                                                001104
001105   423                                                                                                                001105
001106   424                                                                                                                001106
001107   425                                                                                                                001107
001108   426                                                                                                                001108
001109   428                                                                                                                001109
001110   429                                                                                                                001110
001111   431                                                                                                                001111
001112   451                                                                                                                001112
001113   500                                                                                                                001113
001114   501                                                                                                                001114
001115   502                                                                                                                001115
001116   503                                                                                                                001116
001117   504                                                                                                                001117
001118   505                                                                                                                001118
001119   506                                                                                                                001119
001120   507                                                                                                                001120
001121   508                                                                                                                001121
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     73
Seq    <---------------------- Data Records -------------------------------------------------------------->      Change Statement
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10      Date   Number
001122   510                                                                                                                001122
001123   511                                                                                                                001123
001124   999                                                                                                                001124
    * * * * *   E N D   O F   C O M P I L E   T I M E   D A T A   * * * * *
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     74
                          C r o s s   R e f e r e n c e
      File and Record References:
         File              Device             References (D=Defined)
           Record
         No references in the source.
      Global Field References:
         Field             Attributes         References (D=Defined M=Modified)
         ACCESS            I(10,0)                000030D     000428
                           PROTOTYPE
         ADDHEADER         PROTOTYPE              000492      000538M     000559M     000992M
                                                  000995M     000998M     001001M     001004M
                                                  001018M
         ANYCHAR_T         DS(32)                1000022     1000023     1000024     2000007D
                           TEMPLATE
*RNF7031   CCSID           I(10,0)               2000012D
*RNF7031   DATA            *(16)                 2000008D
*RNF7031   LENGTH          U(10,0)               2000010D
*RNF7031   SIZE            U(10,0)               2000009D
*RNF7031   TYPE            I(10,0)               2000011D
*RNF7031 ATOI              I(10,0)               6000203D
                           PROTOTYPE
*RNF7031 BSEARCH           *(16)                 6000137D
                           PROTOTYPE
*RNF7031 CEILING           F(8)                  6000108D
                           PROTOTYPE
         CONNECT_USING_PROXY_TUNNEL...
                           PROTOTYPE              000281M     000361
*RNF7031 CONVERTCASE       PROTOTYPE             6000069D
         DEFAULT_RETRIES   CONST                  000058D     000084
         DEFAULT_TIMEOUT   CONST                  000057D     000083
         ENUM              I(3,0)                 000050D     000274      000367
                           TEMPLATE
         ERRNO             *(16)                 6000147D     000245      000429
                           PROTOTYPE
*RNF7031 F_DUPFD           CONST                 6000159D
*RNF7031 F_GETFL           CONST                 6000160D
*RNF7031 F_GETOWN          CONST                 6000162D
*RNF7031 F_OK              CONST                  000045D
*RNF7031 F_SETFL           CONST                 6000161D
*RNF7031 F_SETOWN          CONST                 6000163D
*RNF7031 FALSE             CONST                  000051D
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     75
*RNF7031 FASYNC            CONST                 6000170D
         FCLOSE            I(10,0)                000022D     000354M
                           PROTOTYPE
*RNF7031 FCNTL             I(10,0)               6000197D
                           PROTOTYPE
*RNF7031 FLOOR             F(8)                  6000111D
                           PROTOTYPE
*RNF7031 FNDELAY           CONST                 6000169D
         FOPEN             *(16)                  000017D     000243
                           PROTOTYPE
         ILEVATOR_T        DS(35200)             1000010D     000070      000072      000109
                           TEMPLATE               000157      000178      000199      000216
                                                  000217      000231      000257      000271
                                                  000364      000371      000424      000460
                                                  000470      000482      000529      000548
                                                  000680      000772      000840      000852
                                                  001077
*RNF7031   AUTHPROVIDER    *(16)                 1000026D
*RNF7031   BUFFER          *(16)                 1000047D
*RNF7031   BUFFEREND       *(16)                 1000050D
*RNF7031   BUFFERSIZE      I(10,0)               1000048D
*RNF7031   BUFFERTOTALLENGTH...
                           I(10,0)               1000049D
*RNF7031   CCSID           I(10,0)               1000035D
*RNF7031   CONTENTDATA     *(16)                 1000030D
*RNF7031   CONTENTLENGTH   I(10,0)               1000031D
*RNF7031   CONTENTLENGTHCALCULATED...
                           I(10,0)               1000032D
*RNF7031   HEADERLEN       I(10,0)               1000029D
*RNF7031   HEADERLIST      *(16)                 1000019D
*RNF7031   HOST            A(512)                1000041D
*RNF7031   LOCATION        A(256)                1000044D
*RNF7031   MESSAGE         A(256)                1000045D
*RNF7031   METHOD          *(16)                 1000012D
*RNF7031   PASSWORD        A(256)                1000043D
*RNF7031   PORT            I(10,0)               1000039D
*RNF7031   PROXYTUNNEL     *(16)                 1000051D
*RNF7031   RAWRESPONSE     *(16)                 1000034D
*RNF7031   REQUESTDATABUFFER...
                           DS(32)                1000022D
*RNF7031   REQUESTHANDLER  *(16)                 1000027D
*RNF7031   REQUESTHEADERLIST...
                           *(16)                 1000020D
*RNF7031   RESOURCE        A(32766)              1000040D
*RNF7031   RESPONSEDATABUFFER...
                           DS(32)                1000024D
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     76
*RNF7031   RESPONSEDATAFILE...
                           *(16)                 1000025D
*RNF7031   RESPONSEHEADERBUFFER...
                           DS(32)                1000023D
*RNF7031   RESPONSEHEADERHASCONTENTLENGTH...
                           N(1)                  1000017D
*RNF7031   RESPONSEISCHUNKED...
                           N(1)                  1000018D
*RNF7031   RETRIES         I(5,0)                1000015D
*RNF7031   SERVER          A(512)                1000038D
*RNF7031   SOCKETS         *(16)                 1000011D
*RNF7031   STATUS          I(10,0)               1000036D
*RNF7031   TIMEOUT         P(9,3)                1000014D
*RNF7031   URL             *(16)                 1000013D
*RNF7031   USEPROXY        N(1)                  1000016D
*RNF7031   USER            A(256)                1000042D
         ILEVATOR_VERSION  CONST                  000064D     000096
         ISSUCCESSFULREQUEST...
                           N(1)                   000595      000657      000717      000805
                           PROTOTYPE              000884      000921      000925      000962
         IV_ADDENTRYTOLIST PROTOTYPE             1000992D     001022
         IV_ADDHEADER      PROTOTYPE             1000868D     000096M     000522      000586M
                                                  000708M     000797M     000953M
         IV_ADDHEADERS     PROTOTYPE             1000886D     000542      000590M     000712M
                                                  000800M     000879M     000916M     000957M
         IV_ADDHEADERTOLIST...
                           PROTOTYPE             1000976D     001011
*RNF7031 IV_ANYCHAR_APPEND PROTOTYPE             2000024D
         IV_ANYCHAR_FINALIZE...
                           PROTOTYPE             2000030D     000350M     000351M
         IV_ANYCHAR_SET    PROTOTYPE             2000016D     000159M     000180M     000201M
         IV_BUFFER_SIZE    CONST                 1000096D    1000710     1000728     1000763
                                                 1000783     1000785     1000804     1000806
                                                 1000828     1000848     1000850      000078
                                                  000079      000565      000572      000580
                                                  000609      000619      000629      000671
                                                  000674      000681      000690      000729
                                                  000731      000747      000749      000765
                                                  000773      000781      000817      000819
                                                  000859      000865      000873      000902
                                                  000910      000932      000939      000947
         IV_BUILDLIST      *(16)                 1000939D     000973
                           PROTOTYPE
         IV_BYTES          CONST                 1000075D     000791
*RNF7031 IV_CCSID_BINARY   CONST                 1000450D
*RNF7031 IV_CCSID_JOB      CONST                 1000438D
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     77
         IV_CCSID_UTF8     CONST                 1000442D     000582      000692      000702
                                                  000783      000875      000912      000949
*RNF7031 IV_CCSID_WIN1252  CONST                 1000446D
         IV_CHUNKED_RECEIVE...
                           I(10,0)               3000009D     000333
                           PROTOTYPE
         IV_DEBUG          PROTOTYPE             4000012D     000289M     000290M     000291M
                                                  000292M     000325M     000405M     000448M
                                                  000449M
*RNF7031 IV_DEBUG_INIT     I(10,0)               4000010D
                           PROTOTYPE
*RNF7031 IV_DECODEBASE64   A(2097152)            1000619D
                           VARYING(4)
                           CCSID(1208)
                           PROTOTYPE
         IV_DELETE         A(1048576)            1000728D     000858
                           BASED(_QRNL_PST+)
                           VARYING(4)
                           CCSID(1208)
                           PROTOTYPE
*RNF7031 IV_ENCODEBASE64   A(2097152)            1000633D
                           VARYING(4)
                           CCSID(1208)
                           PROTOTYPE
         IV_EXECUTE        N(1)                  1000548D     000263      000593      000715
                           PROTOTYPE              000803      000882      000919      000960
         IV_FREE           PROTOTYPE             1000431D     000104      000123M     000602M
                                                  000724M     000812M     000891M     000927M
                                                  000969M
         IV_FREELIST       PROTOTYPE             1000960D     000115M     000128
         IV_GET            A(1048576)            1000710D     000564
                           BASED(_QRNL_PST+)
                           VARYING(4)
                           CCSID(1208)
                           PROTOTYPE
         IV_GETERRORMESSAGE...
                           A(256)                1000592D     000465
                           VARYING(2)
                           PROTOTYPE
         IV_GETSTATUS      I(5,0)                1000580D     000455      000638      000664
                           PROTOTYPE
         IV_HEAD           N(1)                  1000745D     000895
                           PROTOTYPE
         IV_HEADER_NAME_SIZE...
                           CONST                 1000100D    1000870     1000940     1000942
                                                 1000944     1000946     1000948     1000978
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     78
                                                  000495      000499      000525      000530
                                                  000552      000975      000977      000979
                                                  000981      000983      001014
         IV_HEADER_VALUE_SIZE...
                           CONST                 1000104D    1000712     1000765     1000786
                                                 1000807     1000851     1000871     1000941
                                                 1000943     1000945     1000947     1000949
                                                 1000979      000496      000526      000553
                                                  000567      000675      000732      000750
                                                  000820      000934      000976      000978
                                                  000980      000982      000984      001015
*RNF7031 IV_HTTP           CONST                 1000109D
*RNF7031 IV_HTTP_ACCEPTED  CONST                 1000138D
*RNF7031 IV_HTTP_ALREADY_REPORTED...
                           CONST                 1000169D
*RNF7031 IV_HTTP_BAD_GATEWAY...
                           CONST                 1000349D
*RNF7031 IV_HTTP_BAD_REQUEST...
                           CONST                 1000179D
*RNF7031 IV_HTTP_CONFLICT  CONST                 1000236D
*RNF7031 IV_HTTP_CREATED   CONST                 1000131D
*RNF7031 IV_HTTP_EXPECTATION_FAILED...
                           CONST                 1000278D
*RNF7031 IV_HTTP_FAILED_DEPENDENCY...
                           CONST                 1000300D
*RNF7031 IV_HTTP_FORBIDDEN CONST                 1000197D
*RNF7031 IV_HTTP_GATEWAY_TIMEOUT...
                           CONST                 1000365D
*RNF7031 IV_HTTP_GONE      CONST                 1000244D
*RNF7031 IV_HTTP_IM_USED   CONST                 1000175D
*RNF7031 IV_HTTP_INSUFFICIENT_STORAGE...
                           CONST                 1000380D
*RNF7031 IV_HTTP_INTERNAL_SERVER_ERROR...
                           CONST                 1000338D
*RNF7031 IV_HTTP_LENGTH_REQUIRED...
                           CONST                 1000249D
*RNF7031 IV_HTTP_LOCKED    CONST                 1000296D
*RNF7031 IV_HTTP_LOOP_DETECTED...
                           CONST                 1000384D
*RNF7031 IV_HTTP_METHOD_NOT_ALLOWED...
                           CONST                 1000213D
*RNF7031 IV_HTTP_MISDIRECTED_REQUEST...
                           CONST                 1000288D
*RNF7031 IV_HTTP_MULTI_STATUS...
                           CONST                 1000164D
*RNF7031 IV_HTTP_NETWORK_AUTH_REQUIRED...
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     79
                           CONST                 1000393D
*RNF7031 IV_HTTP_NO_CONTENT...
                           CONST                 1000150D
*RNF7031 IV_HTTP_NON_AUTHORITIVE_INFO...
                           CONST                 1000145D
*RNF7031 IV_HTTP_NOT_ACCEPTABLE...
                           CONST                 1000219D
*RNF7031 IV_HTTP_NOT_EXTENDED...
                           CONST                 1000388D
*RNF7031 IV_HTTP_NOT_FOUND CONST                 1000206D
*RNF7031 IV_HTTP_NOT_IMPLEMENTED...
                           CONST                 1000344D
*RNF7031 IV_HTTP_OK        CONST                 1000126D
*RNF7031 IV_HTTP_PARTIAL_CONTENT...
                           CONST                 1000159D
*RNF7031 IV_HTTP_PAYLOAD_TOO_LARGE...
                           CONST                 1000258D
*RNF7031 IV_HTTP_PAYMENT_REQUIRED...
                           CONST                 1000191D
*RNF7031 IV_HTTP_PRECONDITION_FAILED...
                           CONST                 1000253D
*RNF7031 IV_HTTP_PRECONDITION_REQUIRED...
                           CONST                 1000319D
*RNF7031 IV_HTTP_PROXY_AUTH_REQUIRED...
                           CONST                 1000223D
*RNF7031 IV_HTTP_REQUEST_HEADER_FIELDS_TOO_LARGE...
                           CONST                 1000329D
*RNF7031 IV_HTTP_REQUEST_TIMEOUT...
                           CONST                 1000232D
*RNF7031 IV_HTTP_REQUEST_URI_TOO_LONG...
                           CONST                 1000262D
*RNF7031 IV_HTTP_REQUESTED_RANGE_NOT_SATISFIABLE...
                           CONST                 1000273D
*RNF7031 IV_HTTP_RESET_CONTENT...
                           CONST                 1000154D
*RNF7031 IV_HTTP_SERVICE_UNAVAILABLE...
                           CONST                 1000360D
*RNF7031 IV_HTTP_TEAPOT    CONST                 1000282D
*RNF7031 IV_HTTP_TOO_EARLY CONST                 1000305D
*RNF7031 IV_HTTP_TOO_MANY_REQUESTS...
                           CONST                 1000323D
*RNF7031 IV_HTTP_UNAUTHORIZED...
                           CONST                 1000185D
*RNF7031 IV_HTTP_UNAVAILABLE_FOR_LEGAL_REASONS...
                           CONST                 1000334D
*RNF7031 IV_HTTP_UNPROCESSABLE_ENTITY...
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     80
                           CONST                 1000292D
*RNF7031 IV_HTTP_UNSUPPORTED_MEDIA_TYPE...
                           CONST                 1000267D
*RNF7031 IV_HTTP_UPGRADE_REQUIRED...
                           CONST                 1000312D
*RNF7031 IV_HTTP_VARIANT_ALSO_NEGOTIATES...
                           CONST                 1000375D
*RNF7031 IV_HTTP_VERSION_NOT_SUPPORTED...
                           CONST                 1000369D
*RNF7031 IV_HTTPS          CONST                 1000114D
*RNF7031 IV_JOBLOG         PROTOTYPE             1000647D
*RNF7031 IV_LONGUTF8VARCHAR...
                           A(2097152)            1000058D
                           VARYING(4)
                           CCSID(1208)
                           TEMPLATE
         IV_LVARPUCHAR_T   DS(32)                1000063D    1000830      000767
                           TEMPLATE
*RNF7031   LENGTH          U(10,0)               1000064D
*RNF7031   STRING          *(16)                 1000065D
*RNF7031 IV_MEDIA_TYPE_ALL CONST                 1000399D
*RNF7031 IV_MEDIA_TYPE_JSON...
                           CONST                 1000403D
*RNF7031 IV_MEDIA_TYPE_XML CONST                 1000407D
*RNF7031 IV_METHOD_SIZE    CONST                 1000088D
         IV_NEWHTTPCLIENT  *(16)                 1000421D     000067      000218      000575
                           PROTOTYPE              000685      000776      000868      000905
                                                  000942
         IV_OPTIONS        A(1048576)            1000763D     000931
                           BASED(_QRNL_PST+)
                           VARYING(4)
                           CCSID(1208)
                           PROTOTYPE
         IV_PATCH          A(1048576)            1000783D     000728
                           BASED(_QRNL_PST+)
                           VARYING(4)
                           CCSID(1208)
                           PROTOTYPE
         IV_POST           A(1048576)            1000804D     000746
                           BASED(_QRNL_PST+)
                           VARYING(4)
                           CCSID(1208)
                           PROTOTYPE
         IV_POSTFORM       A(1048576)            1000828D     000764
                           BASED(_QRNL_PST+)
                           VARYING(4)
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     81
                           CCSID(1208)
                           PROTOTYPE
         IV_PUT            A(1048576)            1000848D     000816
                           BASED(_QRNL_PST+)
                           VARYING(4)
                           CCSID(1208)
                           PROTOTYPE
         IV_SETAUTHPROVIDER...
                           PROTOTYPE             1000604D     000476
         IV_SETCERTIFICATE N(1)                  1000565D     000417      001064M     001066M
                           PROTOTYPE
         IV_SETCOMMTRACE   PROTOTYPE             1000660D     000251
         IV_SETPROXYTUNNEL PROTOTYPE             1000532D     000210
         IV_SETREQUESTDATABUFFER...
                           PROTOTYPE             1000465D     000190      000697M     000787M
         IV_SETREQUESTHANDLER...
                           PROTOTYPE             1001006D     001071
         IV_SETRESPONSEDATABUFFER...
                           PROTOTYPE             1000503D     000169      000577M     000687M
                                                  000778M     000870M     000907M     000944M
         IV_SETRESPONSEFILE...
                           PROTOTYPE             1000520D     000224
         IV_SETRESPONSEHEADERBUFFER...
                           PROTOTYPE             1000484D     000148
         IV_SETRETRIES     PROTOTYPE             1000912D     000846
         IV_SETTIMEOUT     PROTOTYPE             1000899D     000834
         IV_STATUS_ERROR   CONST                 1000070D     000307      000313      000318
                                                  000341      000389      000394      000407
         IV_STATUS_OK      CONST                 1000068D     000305      000331      000338
                                                  000357      000387      000400
         IV_STATUS_RETRY   CONST                 1000069D     000272      000321      000344
                                                  000369      000409
         IV_URL_SIZE       CONST                 1000092D    1000711     1000729     1000746
                                                 1000764     1000784     1000805     1000829
                                                 1000849      000566      000673      000730
                                                  000748      000766      000818      000860
                                                  000897      000933
*RNF7031 IV_VARCHAR2       CONST                 1000079D
         IV_VARCHAR4       CONST                 1000083D     000581      000691      000701
                                                  000782      000874      000911      000948
*RNF7031 IV_XLATELVC       A(2097152)            1000691D
                           VARYING(4)
                           CCSID(65535)
                           PROTOTYPE
*RNF7031 IV_XLATEVC        A(32768)              1000675D
                           VARYING(2)
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     82
                           CCSID(65535)
                           PROTOTYPE
         LISTEDHTTPSTATUSCODES(41)...
                           I(5,0)                 000055D     000640      001083M
         LOADCONFIGFROMENVVAR...
                           PROTOTYPE              000098M     001048
         LOWER             A(26)                  000062D     000508
                           CCSID(1208)
         LVARPUCHAR_T      DS(32)               10000006D    9000028     9000029     9000047
                           TEMPLATE              9000048      000500      000501      000531
                                                  000532      001029      001030
*RNF7031   LENGTH          U(10,0)              10000007D
*RNF7031   STRING          *(16)                10000008D
*RNF7031 MEMCMP            I(10,0)               6000095D
                           PROTOTYPE
         MEMCPY            *(16)                 6000080D     001038M     001042M
                           PROTOTYPE
*RNF7031 MEMICMP           I(10,0)               6000100D
                           PROTOTYPE
*RNF7031 MEMMOVE           *(16)                 6000090D
                           PROTOTYPE
*RNF7031 MEMSET            *(16)                 6000085D
                           PROTOTYPE
*RNF7031 MESSAGE_ESCAPE    PROTOTYPE             8000047D
         MESSAGE_INFO      PROTOTYPE             8000036D     000246M     000430M
*RNF7031 MESSAGE_SEND      PROTOTYPE             8000006D
         MESSAGE_SENDPASTCONTROLBOUNDARY...
                           PROTOTYPE             8000021D     000653M
*RNF7031 NO_RETRIES        CONST                  000059D
         NULL              CONST                  000053D     000086      000088      000089
                                                  000090      000091      000092      000093
*RNF7031 O_NDELAY          CONST                 6000168D
*RNF7031 O_NONBLOCK        CONST                 6000167D
         PARSEURL          PROTOTYPE             5000010D     000287M     000376M
*RNF7031 PLAIN_SOCKET      CONST                11000006D
*RNF7031 PLVARCHAR_T       DS(1048580)          10000011D
                           TEMPLATE
*RNF7031   LENGTH          I(10,0)              10000012D
*RNF7031   STRING          A(1048576)           10000013D
*RNF7031 QSORT             *(16)                 6000131D
                           PROTOTYPE
*RNF7031 QUSBAVL           I(10,0)               7000050D
*RNF7031 QUSBAVL14         I(10,0)               7000065D
*RNF7031 QUSBPRV           I(10,0)               7000048D
*RNF7031 QUSBPRV00         I(10,0)               7000063D
*RNF7031 QUSCCSID11        I(10,0)               7000071D
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     83
*RNF7031 QUSC0200          DS(32)                7000059D
         QUSEC             DS(16)                7000046D    6000075
*RNF7031 QUSEI             A(7)                  7000052D
*RNF7031 QUSEI00           A(7)                  7000067D
*RNF7031 QUSERVED          A(1)                  7000054D
*RNF7031 QUSERVED39        A(1)                  7000069D
*RNF7031 QUSK01            I(10,0)               7000061D
*RNF7031 QUSLED01          I(10,0)               7000075D
*RNF7031 QUSOED01          I(10,0)               7000073D
         R_OK              CONST                  000046D     000428
*RNF7031 RAND              I(10,0)               6000129D
                           PROTOTYPE
         RECEIVEDATA       I(10,0)               5000023D     000335
                           PROTOTYPE
         RECEIVEHEADER     I(10,0)               5000019D     000317      000398
                           PROTOTYPE
*RNF7031 REQUESTCONTROLBLOCKLOWER...
                           DS(22)                6000055D
*RNF7031   CASE            I(10,0)               6000059D
*RNF7031   CCSID           I(10,0)               6000058D
*RNF7031   RES1            A(10)                 6000060D
*RNF7031   TYPE            I(10,0)               6000057D
         REQUESTCONTROLBLOCKUPPER...
                           DS(22)                6000062D    6000071
*RNF7031   CASE            I(10,0)               6000066D
*RNF7031   CCSID           I(10,0)               6000065D
*RNF7031   RES1            A(10)                 6000067D
*RNF7031   TYPE            I(10,0)               6000064D
         SECURE_HANDSHAKE_IMEDIATE...
                           CONST                11000007D     000443
*RNF7031 SECURE_HANDSHAKE_LATER...
                           CONST                11000008D
         SENDANDRECEIVEDATA...
                           A(1048576)             000670      000737      000739      000741
                           BASED(_QRNL_PST+)      000755      000757      000759      000825
                           VARYING(4)             000827      000829
                           CCSID(1208)
                           PROTOTYPE
         SENDREQUEST       I(10,0)               5000015D     000312      000393
                           PROTOTYPE
         SENDSTATUSCODEESCAPEMESSAGE...
                           PROTOTYPE              000596M     000606      000718M     000806M
                                                  000885M     000963M
         SENDSTATUSCODEINFOMESSAGE...
                           PROTOTYPE              000616      000922M
         SENDSTATUSCODEMESSAGE...
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     84
                           PROTOTYPE              000612M     000622M     000626
         SLIST_FOREACH     N(1)                  9000060D     000139      000556
                           PROTOTYPE
         SLIST_FREE        PROTOTYPE             9000034D     000120M     000144M
*RNF7031 SLIST_LOOKUPLVPC  A(1048576)            9000051D
                           VARYING(4)
                           PROTOTYPE
         SLIST_NEW         *(16)                 9000032D     000082      000989
                           PROTOTYPE
*RNF7031 SLIST_PUSH        *(16)                 9000038D
                           PROTOTYPE
         SLIST_PUSHLVPC    *(16)                 9000045D     000518M     001044M
                           PROTOTYPE
         SLIST_SETITERATOR DS(48)                9000056D     000137      000555
                           PROTOTYPE
*RNF7031 SLIST_T           DS(36)                9000015D
                           TEMPLATE
*RNF7031   LENGTH          I(10,0)               9000018D
*RNF7031   PHEAD           *(16)                 9000016D
*RNF7031   PTAIL           *(16)                 9000017D
         SLISTITERATOR_T   DS(48)                9000021D    9000056     9000061      000133
                           TEMPLATE               000549
*RNF7031   HASNEXT         N(1)                  9000024D
*RNF7031   PNEXT           *(16)                 9000023D
*RNF7031   PTHIS           *(16)                 9000022D
         SLISTKEYVAL_T     DS(64)                9000027D     000135      000551
                           TEMPLATE
*RNF7031   KEY             DS(32)                9000028D
*RNF7031   VALUE           DS(32)                9000029D
         SLISTNODE_T       DS(48)                9000009D     000134      000550
                           TEMPLATE
*RNF7031   PAYLOADDATA     *(16)                 9000012D
*RNF7031   PAYLOADLENGTH   I(10,0)               9000011D
*RNF7031   PNEXT           *(16)                 9000010D
         SOCKETS_CONNECT   I(3,0)               11000023D     000298      000380
                           PROTOTYPE
         SOCKETS_FREE      PROTOTYPE            11000019D     000119M
         SOCKETS_NEW       *(16)                11000017D     000081
                           PROTOTYPE
*RNF7031 SOCKETS_SEND      I(10,0)              11000030D
                           PROTOTYPE
         SOCKETS_SETSSL    PROTOTYPE            11000010D     000441M
         SOCKETS_SETTRACE  PROTOTYPE            11000036D     000259M
*RNF7031 SRAND             PROTOTYPE             6000126D
*RNF7031 STRCASECMP        I(10,0)               6000038D
                           PROTOTYPE
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     85
*RNF7031 STRCMP            I(10,0)               6000025D
                           PROTOTYPE
*RNF7031 STRCMPI           I(10,0)               6000034D
                           PROTOTYPE
*RNF7031 STRCSPN           I(10,0)               6000051D
                           PROTOTYPE
*RNF7031 STRERR            *(16)                 6000149D
                           PROTOTYPE
         STRERROR          *(16)                 6000152D     000246      000431
                           PROTOTYPE
         STRLEN            U(10,0)               6000022D     001032      001036      001040
                           PROTOTYPE
*RNF7031 STRNCASECMP       I(10,0)               6000042D
                           PROTOTYPE
*RNF7031 STRNCMP           I(10,0)               6000029D
                           PROTOTYPE
*RNF7031 STRSTR            *(16)                 6000047D
                           PROTOTYPE
*RNF7031 STRTOK            *(16)                 6000018D
                           PROTOTYPE
*RNF7031 SYSTEM            I(10,0)               6000123D
                           PROTOTYPE
         TERASPACE_ALLOC   *(16)                12000006D     000072      000078      000511
                           PROTOTYPE              000515      001037      001041
*RNF7031 TERASPACE_CALLOC  *(16)                12000010D
                           PROTOTYPE
         TERASPACE_FREE    PROTOTYPE            12000014D     000117M     000118M     000121M
                                                  000122M     000124M     000140M     000141M
                                                  000485M
*RNF7031 TERASPACE_LEAK    N(1)                 12000037D
                           PROTOTYPE
*RNF7031 TERASPACE_REALLOC *(16)                12000026D
                           PROTOTYPE
*RNF7031 TERASPACE_SIZE    U(20,0)              12000031D
                           PROTOTYPE
*RNF7031 TERASPACE_STAT    PROTOTYPE            12000035D
*RNF7031 TERASPACE_STRDUP  *(16)                12000018D
                           PROTOTYPE
         TERASPACE_STRTRIMDUP...
                           *(16)                12000022D     000219      000284      000285
                           PROTOTYPE              000374
*RNF7031 TERASPACE_USE     U(20,0)              12000039D
                           PROTOTYPE
*RNF7031 TMPNAM            *(16)                 6000117D
                           PROTOTYPE
*RNF7031 TMPNAMIFS         *(16)                 6000120D
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     86
                           PROTOTYPE
         TRUE              CONST                  000052D     000304      000386
         UNLINK            I(10,0)                000026D     000241M
                           PROTOTYPE
         UPPER             A(26)                  000061D     000508
                           CCSID(1208)
*RNF7031 VARCHAR_T         DS(32769)            10000016D
                           TEMPLATE
*RNF7031   LENGTH          I(5,0)               10000017D
*RNF7031   STRING          A(32767)             10000018D
*RNF7031 VC2STR            *(16)                10000021D
                           PROTOTYPE
*RNF7031 W_OK              CONST                  000047D
*RNF7031 X_OK              CONST                  000048D
      Field References for subprocedure IV_NEWHTTPCLIENT
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            DS(35200)              000070D     000073M     000075M     000076M
                           BASED(PCLIENT)         000078M     000079M     000081M     000082M
                                                  000083M     000084M     000086M     000087M
                                                  000088M     000089M     000090M     000091M
                                                  000092M     000093M     000094M
           BUFFER          *(16)                  000078
           BUFFERSIZE      I(10,0)                000079
           HEADERLIST      *(16)                  000082
           HOST            A(512)                 000089
           LOCATION        A(256)                 000092
           MESSAGE         A(256)                 000093
           METHOD          *(16)                  000075
           PASSWORD        A(256)                 000091
           PORT            I(10,0)                000087
           REQUESTHEADERLIST...
                           *(16)                  000094
           RESOURCE        A(32766)               000088
           RETRIES         I(5,0)                 000084
           SERVER          A(512)                 000086
           SOCKETS         *(16)                  000081
           TIMEOUT         P(9,3)                 000083
           URL             *(16)                  000076
           USER            A(256)                 000090
         PCLIENT           *(16)                  000070      000072M     000096      000098
                                                  000100
      Field References for subprocedure IV_FREE
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            DS(35200)              000109D     000115      000117      000118
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     87
                           BASED(PCLIENT)         000119      000120      000121      000122
                                                  000123
           AUTHPROVIDER    *(16)                  000121
           BUFFER          *(16)                  000122
           HEADERLIST      *(16)                  000115      000120
           METHOD          *(16)                  000117
           PROXYTUNNEL     *(16)                  000123
           SOCKETS         *(16)                  000119
           URL             *(16)                  000118
         PCLIENT           *(16)                  000106D     000109      000111      000124
      Field References for subprocedure IV_FREELIST
         Field             Attributes         References (D=Defined M=Modified)
         ITERATOR          DS(48)                 000133D     000134      000137M     000139
           PTHIS           *(16)                  000134
         LIST              *(16)                  000130D     000137      000144
                           BASED(_QRNL_PST+)
         NODE              DS(48)                 000134D     000135
                           BASED(ITERATOR.+)
           PAYLOADDATA     *(16)                  000135
         PAYLOAD           DS(64)                 000135D     000140      000141
                           BASED(NODE.PAYL+)
           KEY             DS(32)                 000140
             STRING        *(16)                  000140
           VALUE           DS(32)                 000141
             STRING        *(16)                  000141
      Field References for subprocedure IV_SETRESPONSEHEADERBUFFER
         Field             Attributes         References (D=Defined M=Modified)
         BUFFER            *(16)                  000151D     000161
         BUFFERCCSID       I(10,0)                000154D     000164
         BUFFERSIZE        I(10,0)                000152D     000162
         BUFFERTYPE        I(5,0)                 000153D     000163
         CLIENT            DS(35200)              000157D     000160
                           BASED(PCLIENT)
           RESPONSEHEADERBUFFER...
                           DS(32)                 000160
         PCLIENT           *(16)                  000150D     000157
      Field References for subprocedure IV_SETRESPONSEDATABUFFER
         Field             Attributes         References (D=Defined M=Modified)
         BUFFER            *(16)                  000172D     000182
         BUFFERCCSID       I(10,0)                000175D     000185
         BUFFERSIZE        I(10,0)                000173D     000183
         BUFFERTYPE        I(5,0)                 000174D     000184
         CLIENT            DS(35200)              000178D     000181
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     88
                           BASED(PCLIENT)
           RESPONSEDATABUFFER...
                           DS(32)                 000181
         PCLIENT           *(16)                  000171D     000178
      Field References for subprocedure IV_SETREQUESTDATABUFFER
         Field             Attributes         References (D=Defined M=Modified)
         BUFFER            *(16)                  000193D     000203
         BUFFERCCSID       I(10,0)                000196D     000206
         BUFFERSIZE        I(10,0)                000194D     000204
         BUFFERTYPE        I(5,0)                 000195D     000205
         CLIENT            DS(35200)              000199D     000202
                           BASED(PCLIENT)
           REQUESTDATABUFFER...
                           DS(32)                 000202
         PCLIENT           *(16)                  000192D     000199
      Field References for subprocedure IV_SETPROXYTUNNEL
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            DS(35200)              000216D     000217      000218M
                           BASED(PCLIENT)
           PROXYTUNNEL     *(16)                  000217      000218
         PCLIENT           *(16)                  000212D     000216
         PROXY             DS(35200)              000217D     000219M
                           BASED(CLIENT.PR+)
           URL             *(16)                  000219
         URL               *(16)                  000213D     000219
      Field References for subprocedure IV_SETRESPONSEFILE
         Field             Attributes         References (D=Defined M=Modified)
         C_ERRNO           I(10,0)                000232D     000246
                           BASED(PERRNO)
         CLIENT            DS(35200)              000231D     000243M     000244
                           BASED(PCLIENT)
           RESPONSEDATAFILE...
                           *(16)                  000243      000244
         FILECCSID         I(10,0)                000228D     000238
         FILENAME          *(16)                  000227D     000241      000243
         MODE              A(32)                  000233D     000236M     000238M     000243
         PCLIENT           *(16)                  000226D     000231
         PERRNO            *(16)                  000232      000245M
      Field References for subprocedure IV_SETCOMMTRACE
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            DS(35200)              000257D     000259
                           BASED(PCLIENT)
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     89
           SOCKETS         *(16)                  000259
         PCLIENT           *(16)                  000253D     000257
         TRACEFILENAME     *(16)                  000254D     000259
      Field References for subprocedure IV_EXECUTE
         Field             Attributes         References (D=Defined M=Modified)
         APISTATUS         I(10,0)                000272D     000305M     000307M     000312M
                                                  000313      000317M     000318      000321
                                                  000331M     000333M     000335M     000338
                                                  000341      000344      000357
         CLIENT            DS(35200)              000271D     000277M     000280      000281
                           BASED(PCLIENT)         000284M     000285M     000289      000290
                                                  000291      000292      000294      000296
                                                  000299      000300      000301      000302
                                                  000325      000329      000329      000332
                                                  000350      000351      000353      000354
           HOST            A(512)                 000291
           METHOD          *(16)                  000284      000329
           PORT            I(10,0)                000289      000301
           PROXYTUNNEL     *(16)                  000280      000296
           REQUESTHEADERLIST...
                           *(16)                  000277
           RESOURCE        A(32766)               000292
           RESPONSEDATABUFFER...
                           DS(32)                 000351
           RESPONSEDATAFILE...
                           *(16)                  000353      000354
           RESPONSEHEADERBUFFER...
                           DS(32)                 000350
           RESPONSEISCHUNKED...
                           N(1)                   000332
           RETRIES         I(5,0)                 000294
           SERVER          A(512)                 000290      000300
           SOCKETS         *(16)                  000299
           STATUS          I(10,0)                000325      000329
           TIMEOUT         P(9,3)                 000302
           URL             *(16)                  000285
         HEADERS           *(16)                  000268D     000277
         METHOD            *(16)                  000266D     000284
         OK                I(3,0)                 000274D     000298M     000304
         PCLIENT           *(16)                  000265D     000271      000287      000312
                                                  000317      000333      000335
         TRY               I(5,0)                 000273D     000294
         URL               *(16)                  000267D     000285      000287
      Field References for subprocedure CONNECT_USING_PROXY_TUNNEL
         Field             Attributes         References (D=Defined M=Modified)
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     90
         APISTATUS         I(10,0)                000369D     000387M     000389M     000393M
                                                  000394      000398M     000400      000407
                                                  000409
         CLIENT            DS(35200)              000364D     000373      000401M
                           BASED(_QRNL_PST+)
           PROXYTUNNEL     *(16)                  000373
           SOCKETS         *(16)                  000401
         OK                I(3,0)                 000367D     000380M     000386
         PPROXY            *(16)                  000370D     000371      000373M     000376
                                                  000393      000398
         PROXY             DS(35200)              000371D     000374M     000376      000378
                           BASED(PPROXY)          000381      000382      000383      000384
                                                  000401      000405
           HOST            A(512)                 000382
           METHOD          *(16)                  000374
           PORT            I(10,0)                000383
           RETRIES         I(5,0)                 000378
           SOCKETS         *(16)                  000381      000401
           STATUS          I(10,0)                000405
           TIMEOUT         P(9,3)                 000384
           URL             *(16)                  000376
         TRY               I(5,0)                 000366D     000378
      Field References for subprocedure IV_SETCERTIFICATE
         Field             Attributes         References (D=Defined M=Modified)
         C_ERRNO           I(10,0)                000425D     000431
                           BASED(PERRNO)
         CERTIFICATEFILE   *(16)                  000420D     000428      000432      000444
                                                  000449
         CERTIFICATEPASSWORD...
                           *(16)                  000421D     000438M     000445
         CLIENT            DS(35200)              000424D     000442
                           BASED(PCLIENT)
           SOCKETS         *(16)                  000442
         EMPTY_STR         A(1)                   000426D     000438
         PCLIENT           *(16)                  000419D     000424
         PERRNO            *(16)                  000425      000429M
      Field References for subprocedure IV_GETSTATUS
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            DS(35200)              000460D     000462
                           BASED(PCLIENT)
           STATUS          I(10,0)                000462
         PCLIENT           *(16)                  000457D     000460
      Field References for subprocedure IV_GETERRORMESSAGE
         Field             Attributes         References (D=Defined M=Modified)
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     91
         CLIENT            DS(35200)              000470D     000472
                           BASED(PCLIENT)
           MESSAGE         A(256)                 000472
         PCLIENT           *(16)                  000467D     000470
      Field References for subprocedure IV_SETAUTHPROVIDER
         Field             Attributes         References (D=Defined M=Modified)
         AUTHPROVIDER      *(16)                  000479D     000488
         CLIENT            DS(35200)              000482D     000484      000485      000488M
                           BASED(PCLIENT)
           AUTHPROVIDER    *(16)                  000484      000485      000488
         PCLIENT           *(16)                  000478D     000482
      Field References for subprocedure ADDHEADER
         Field             Attributes         References (D=Defined M=Modified)
         HEADERNAME        A(1024)                000495D     000503      000508
                           VARYING(2)
                           CCSID(1208)
         HEADERVALUE       A(16384)               000496D     000514      000516
                           VARYING(2)
                           CCSID(1208)
         LIST              *(16)                  000494D     000518
         LISTKEY           DS(32)                 000500D     000510M     000511M     000511
                                                  000512M     000512      000518
           LENGTH          U(10,0)                000510      000511      000512
           STRING          *(16)                  000511      000512
         LISTVALUE         DS(32)                 000501D     000514M     000515M     000515
                                                  000516M     000516      000518
           LENGTH          U(10,0)                000514      000515      000516
           STRING          *(16)                  000515      000516
         LOWERNAME         A(1024)                000499D     000508M     000510      000512
                           VARYING(2)
                           CCSID(1208)
      Field References for subprocedure IV_ADDHEADER
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            DS(35200)              000529D     000538
                           BASED(PCLIENT)
           HEADERLIST      *(16)                  000538
         HEADERNAME        A(1024)                000525D     000534      000538
                           VARYING(2)
                           CCSID(1208)
         HEADERVALUE       A(16384)               000526D     000538
                           VARYING(2)
                           CCSID(1208)
*RNF7031 LISTKEY           DS(32)                 000531D
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     92
*RNF7031 LISTVALUE         DS(32)                 000532D
*RNF7031 LOWERNAME         A(1024)                000530D
                           VARYING(2)
                           CCSID(1208)
         PCLIENT           *(16)                  000524D     000529
      Field References for subprocedure IV_ADDHEADERS
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            DS(35200)              000548D     000559
                           BASED(PCLIENT)
           HEADERLIST      *(16)                  000559
         HEADERNAME        A(1024)                000552D     000557M     000559
                           VARYING(2)
                           CCSID(1208)
         HEADERS           *(16)                  000545D     000555
         HEADERVALUE       A(16384)               000553D     000558M     000559
                           VARYING(2)
                           CCSID(1208)
         ITERATOR          DS(48)                 000549D     000550      000555M     000556
           PTHIS           *(16)                  000550
         NODE              DS(48)                 000550D     000551
                           BASED(ITERATOR.+)
           PAYLOADDATA     *(16)                  000551
         NODEPAYLOAD       DS(64)                 000551D     000557      000557      000558
                           BASED(NODE.PAYL+)      000558
           KEY             DS(32)                 000557      000557
             LENGTH        U(10,0)                000557
             STRING        *(16)                  000557
           VALUE           DS(32)                 000558      000558
             LENGTH        U(10,0)                000558
             STRING        *(16)                  000558
         PCLIENT           *(16)                  000544D     000548
      Field References for subprocedure IV_GET
         Field             Attributes         References (D=Defined M=Modified)
         ACCEPTMIMETYPE    A(16384)               000567D     000586
                           VARYING(2)
                           CCSID(1208)
         CLIENT            *(16)                  000571D     000575M     000578      000586
                                                  000590      000593      000595      000596
                                                  000602
         HEADERS           *(16)                  000568D     000590
         RC                N(1)                   000573D     000593M
         RETURNBUFFER      A(1048576)             000572D     000579      000596      000599
                           VARYING(4)
                           CCSID(1208)
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     93
         URL               A(32766)               000566D     000593
                           VARYING(2)
      Field References for subprocedure SENDSTATUSCODEESCAPEMESSAGE
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            *(16)                  000608D     000612
         RETURNBUFFER      A(1048576)             000609D     000612
                           BASED(_QRNL_PST+)
                           VARYING(4)
                           CCSID(1208)
      Field References for subprocedure SENDSTATUSCODEINFOMESSAGE
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            *(16)                  000618D     000622
         RETURNBUFFER      A(1048576)             000619D     000622
                           BASED(_QRNL_PST+)
                           VARYING(4)
                           CCSID(1208)
      Field References for subprocedure SENDSTATUSCODEMESSAGE
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            *(16)                  000628D     000638
         MESSAGEBODY       A(1000)                000636D     000644M     000646M     000650M
                           VARYING(2)             000653
         MESSAGEFILE       A(20)                  000634D     000653
         MESSAGEID         A(7)                   000635D     000641M     000649M     000653
         MESSAGETYPE       A(10)                  000630D     000653
         RETURNBUFFER      A(1048576)             000629D     000644
                           BASED(_QRNL_PST+)
                           VARYING(4)
                           CCSID(1208)
         STATUS            I(5,0)                 000633D     000638M     000640      000641
                                                  000650
      Field References for subprocedure ISSUCCESSFULREQUEST
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            *(16)                  000659D     000664
         STATUS            I(5,0)                 000662D     000664M     000666
      Field References for subprocedure SENDANDRECEIVEDATA
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            *(16)                  000679D     000680      000685M     000688
                                                  000698      000708      000712      000715
                                                  000717      000718      000724
         CLIENTDS          DS(35200)              000680D     000704M
                           BASED(CLIENT)
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     94
           REQUESTDATABUFFER...
                           DS(32)                 000704
             LENGTH        U(10,0)                000704
         CONTENTTYPE       A(16384)               000675D     000708
                           VARYING(2)
                           CCSID(1208)
         HEADERS           *(16)                  000676D     000712
         MESSAGEBODY       A(1048576)             000674D     000695      000699
                           VARYING(4)
                           CCSID(1208)
         MESSAGEBODYLENGTH U(10,0)                000683D     000695M     000696      000700
                                                  000704
         METHOD            *(16)                  000672D     000715
         RC                N(1)                   000682D     000715M
         RETURNBUFFER      A(1048576)             000681D     000689      000718      000721
                           VARYING(4)
                           CCSID(1208)
         URL               A(32766)               000673D     000715
                           VARYING(2)
      Field References for subprocedure IV_PATCH
         Field             Attributes         References (D=Defined M=Modified)
         CONTENTTYPE       A(16384)               000732D     000739      000741
                           VARYING(2)
                           CCSID(1208)
         HEADERS           *(16)                  000733D     000741
         MESSAGEBODY       A(1048576)             000731D     000737      000739      000741
                           BASED(_QRNL_PST+)
                           VARYING(4)
                           CCSID(1208)
         URL               A(32766)               000730D     000737      000739      000741
                           VARYING(2)
      Field References for subprocedure IV_POST
         Field             Attributes         References (D=Defined M=Modified)
         CONTENTTYPE       A(16384)               000750D     000757      000759
                           VARYING(2)
                           CCSID(1208)
         HEADERS           *(16)                  000751D     000759
         MESSAGEBODY       A(1048576)             000749D     000755      000757      000759
                           BASED(_QRNL_PST+)
                           VARYING(4)
                           CCSID(1208)
         URL               A(32766)               000748D     000755      000757      000759
                           VARYING(2)
      Field References for subprocedure IV_POSTFORM
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     95
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            *(16)                  000771D     000772      000776M     000779
                                                  000788      000797      000800      000803
                                                  000805      000806      000812
         CLIENTDS          DS(35200)              000772D     000794M
                           BASED(CLIENT)
           REQUESTDATABUFFER...
                           DS(32)                 000794
             LENGTH        U(10,0)                000794
         FORMDATA          DS(32)                 000767D     000786      000789      000790
                           BASED(_QRNL_PST+)      000794
           LENGTH          U(10,0)                000786      000790      000794
           STRING          *(16)                  000789
         HEADERS           *(16)                  000768D     000800
         RC                N(1)                   000774D     000803M
         RETURNBUFFER      A(1048576)             000773D     000780      000806      000809
                           VARYING(4)
                           CCSID(1208)
         URL               A(32766)               000766D     000803
                           VARYING(2)
      Field References for subprocedure IV_PUT
         Field             Attributes         References (D=Defined M=Modified)
         CONTENTTYPE       A(16384)               000820D     000827      000829
                           VARYING(2)
                           CCSID(1208)
         HEADERS           *(16)                  000821D     000829
         MESSAGEBODY       A(1048576)             000819D     000825      000827      000829
                           BASED(_QRNL_PST+)
                           VARYING(4)
                           CCSID(1208)
         URL               A(32766)               000818D     000825      000827      000829
                           VARYING(2)
      Field References for subprocedure IV_SETTIMEOUT
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            DS(35200)              000840D     000842M
                           BASED(PCLIENT)
           TIMEOUT         P(9,3)                 000842
         PCLIENT           *(16)                  000836D     000840
         TIMEOUT           P(9,3)                 000837D     000842
      Field References for subprocedure IV_SETRETRIES
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            DS(35200)              000852D     000854M
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     96
                           BASED(PCLIENT)
           RETRIES         I(5,0)                 000854
         PCLIENT           *(16)                  000848D     000852
         RETRIES           I(5,0)                 000849D     000854
      Field References for subprocedure IV_DELETE
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            *(16)                  000864D     000868M     000871      000879
                                                  000882      000884      000885      000891
         HEADERS           *(16)                  000861D     000879
         RC                N(1)                   000866D     000882M
         RETURNBUFFER      A(1048576)             000865D     000872      000885      000888
                           VARYING(4)
                           CCSID(1208)
         URL               A(32766)               000860D     000882
                           VARYING(2)
      Field References for subprocedure IV_HEAD
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            *(16)                  000901D     000905M     000908      000916
                                                  000919      000921      000922      000925
                                                  000927
         HEADERS           *(16)                  000898D     000916
         RC                N(1)                   000903D     000919M     000925
         RETURNBUFFER      A(1048576)             000902D     000909      000922
                           VARYING(4)
                           CCSID(1208)
         URL               A(32766)               000897D     000919
                           VARYING(2)
      Field References for subprocedure IV_OPTIONS
         Field             Attributes         References (D=Defined M=Modified)
         ACCEPTMIMETYPE    A(16384)               000934D     000953
                           VARYING(2)
                           CCSID(1208)
         CLIENT            *(16)                  000938D     000942M     000945      000953
                                                  000957      000960      000962      000963
                                                  000969
         HEADERS           *(16)                  000935D     000957
         RC                N(1)                   000940D     000960M
         RETURNBUFFER      A(1048576)             000939D     000946      000963      000966
                           VARYING(4)
                           CCSID(1208)
         URL               A(32766)               000933D     000960
                           VARYING(2)
      Field References for subprocedure IV_BUILDLIST
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     97
         Field             Attributes         References (D=Defined M=Modified)
         KEY1              A(1024)                000975D     000992
                           BASED(_QRNL_PST+)
                           VARYING(2)
                           CCSID(1208)
         KEY2              A(1024)                000977D     000995
                           BASED(_QRNL_PST+)
                           VARYING(2)
                           CCSID(1208)
         KEY3              A(1024)                000979D     000998
                           BASED(_QRNL_PST+)
                           VARYING(2)
                           CCSID(1208)
         KEY4              A(1024)                000981D     001001
                           BASED(_QRNL_PST+)
                           VARYING(2)
                           CCSID(1208)
         KEY5              A(1024)                000983D     001004
                           BASED(_QRNL_PST+)
                           VARYING(2)
                           CCSID(1208)
         LIST              *(16)                  000987D     000989M     000992      000995
                                                  000998      001001      001004      001007
         VALUE1            A(16384)               000976D     000992
                           BASED(_QRNL_PST+)
                           VARYING(2)
                           CCSID(1208)
         VALUE2            A(16384)               000978D     000995
                           BASED(_QRNL_PST+)
                           VARYING(2)
                           CCSID(1208)
         VALUE3            A(16384)               000980D     000998
                           BASED(_QRNL_PST+)
                           VARYING(2)
                           CCSID(1208)
         VALUE4            A(16384)               000982D     001001
                           BASED(_QRNL_PST+)
                           VARYING(2)
                           CCSID(1208)
         VALUE5            A(16384)               000984D     001004
                           BASED(_QRNL_PST+)
                           VARYING(2)
                           CCSID(1208)
      Field References for subprocedure IV_ADDHEADERTOLIST
         Field             Attributes         References (D=Defined M=Modified)
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     98
         HEADERKEY         A(1024)                001014D     001018
                           BASED(_QRNL_PST+)
                           VARYING(2)
                           CCSID(1208)
         HEADERVALUE       A(16384)               001015D     001018
                           BASED(_QRNL_PST+)
                           VARYING(2)
                           CCSID(1208)
         LIST              *(16)                  001013D     001018
      Field References for subprocedure IV_ADDENTRYTOLIST
         Field             Attributes         References (D=Defined M=Modified)
         KEY               *(16)                  001025D     001032      001036      001038
         LIST              *(16)                  001024D     001044
         LISTKEY           DS(32)                 001029D     001036M     001037M     001037
                                                  001038      001038      001044
           LENGTH          U(10,0)                001036      001037      001038
           STRING          *(16)                  001037      001038
         LISTVALUE         DS(32)                 001030D     001040M     001041M     001041
                                                  001042      001042      001044
           LENGTH          U(10,0)                001040      001041      001042
           STRING          *(16)                  001041      001042
         VALUE             *(16)                  001026D     001040      001042
      Field References for subprocedure LOADCONFIGFROMENVVAR
         Field             Attributes         References (D=Defined M=Modified)
         CERTVALUE         *(16)                  001057D     001060M     001063      001064
                                                  001065      001066
         CLIENT            *(16)                  001050D     001064      001066
                           BASED(_QRNL_PST+)
         GETENV            *(16)                  001053D     001060      001061
                           PROTOTYPE
         PASSVALUE         *(16)                  001058D     001061M     001063      001064
      Field References for subprocedure IV_SETREQUESTHANDLER
         Field             Attributes         References (D=Defined M=Modified)
         CLIENT            DS(35200)              001077D     001079M
                           BASED(P_CLIENT)
           REQUESTHANDLER  *(16)                  001079
         HANDLER           *(16)                  001074D     001079
         P_CLIENT          *(16)                  001073D     001077
      Indicator References:
         Indicator                            References (D=Defined M=Modified)
       * * * * *   E N D   O F   C R O S S   R E F E R E N C E   * * * * *
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page     99
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page    100
                      E x t e r n a l   R e f e r e n c e s
      Statically bound procedures:
         Procedure                            References
         ceil                                    6000108
         rand                                    6000129
         atoi                                    6000203
         floor                                   6000111
         srand                                   6000126
         qsort                                   6000131
         fcntl                                   6000197
         strtok                                  6000018
         strlen                                  6000022      001032      001036      001040
         strcmp                                  6000025
         strstr                                  6000047
         memcpy                                  6000080      001038      001042
         memset                                  6000085
         memcmp                                  6000095
         tmpnam                                  6000117
         system                                  6000123
         vc2str                                 10000021
         unlink                                               000241
         access                                   000030      000428
         getenv                                   001053      001060      001061
         strncmp                                 6000029
         strcmpi                                 6000034
         strcspn                                 6000051
         memmove                                 6000090
         bsearch                                 6000137
         __errno                                 6000147      000245      000429
         iv_debug                                             000289      000290      000291
                                                  000292      000325      000405      000448
                                                  000449
         parseUrl                                             000287      000376
         strerror                                6000149     6000152      000246      000431
         iv_joblog                               1000647
         __memicmp                               6000100
         sList_new                               9000032      000082      000989
         iv_xlateVc                              1000675
         strcasecmp                              6000038
         sList_free                              9000034      000120      000144
         sList_push                              9000038
         iv_xlateLvc                             1000691
         sendRequest                                          000312      000393
         receiveData                                          000335
         strncasecmp                             6000042
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page    101
         sockets_new                            11000017      000081
         message_send                            8000006
         message_info                            8000036      000246      000433
         sockets_free                           11000019      000119
         sockets_send
         _C_IFS_fopen                             000017      000243
         iv_debug_init
         receiveHeader                                        000317      000398
         _C_IFS_tmpnam                           6000120
         sList_foreach                           9000060      000139      000556
         teraspace_use
         _C_IFS_fclose                            000022      000354
         iv_anychar_set                          2000016      000165      000186      000207
         QlgConvertCase                          6000069
         message_escape                          8000047
         sList_pushLVPC                          9000045      000518      001044
         sockets_setSSL                         11000010      000446
         teraspace_free                                       000117      000118      000121
                                                  000122      000124      000140      000141
                                                  000485
         teraspace_size
         teraspace_stat
         teraspace_leak
         iv_decodeBase64                         1000619
         iv_encodeBase64                         1000633
         sockets_connect                        11000023      000303      000385
         teraspace_alloc                                      000072      000078      000511
                                                  000515      001037      001041
         sList_lookupLVPC                        9000051
         sockets_setTrace                       11000036      000259
         teraspace_calloc
         teraspace_strdup
         iv_anychar_append                       2000024
         sList_setIterator                       9000056      000137      000555
         teraspace_realloc
         iv_chunked_receive                                   000333
         iv_anychar_finalize                     2000030      000350      000351
         teraspace_strTrimDup                                 000219      000284      000285
                                                  000374
         message_sendPastControlBoundary         8000021      000653
      Imported fields:
         Field             Attributes         Defined
         No references in the source.
      Exported fields:
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page    102
         Field             Attributes         Defined
         No references in the source.
   * * * * *   E N D   O F   E X T E R N A L   R E F E R E N C E S   * * * * *
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page    103
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
*RNF5409 00      8 The prototyped call returns a value which is lost when CALLP
                   is used.
*RNF7031 00   1346 The name or indicator is not referenced.
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
 5770WDS V7R4M0  190419 RN        IBM ILE RPG             ILEVATOR/API             DKSRV134   29-11-23 13:55:10        Page    104
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :     1354
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        0
    Severe Error (30+)  . . . . . . :        0
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :     1354
  Source Totals:
    Records . . . . . . . . . . . . :     2735
    Specifications  . . . . . . . . :     1331
    Data records  . . . . . . . . . :       41
    Comments  . . . . . . . . . . . :     1215
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Module API placed in library ILEVATOR. 00 highest severity. Created on 29-11-23 at 13:55:10.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
